<?xml version="1.0"?>

<recovery>
	<styles>
		<style name="text_l">
			<font resource="font_l" color="%text_color%" />
		</style>

		<style name="text_m">
			<font resource="font_m" color="%text_color%" />
		</style>

		<style name="text_m_accent">
			<font resource="font_m" color="%accent_color%" />
		</style>

		<style name="text_m_fail">
			<font resource="font_m" color="%text_fail_color%" />
		</style>

		<style name="text_s">
			<font resource="font_s" color="%text_color%" />
		</style>

		<style name="input">
			<background color="%background_color%" />
			<cursor color="%accent_color%" hasfocus="1" width="%input_line_width%" />
			<font resource="font_m" color="%text_color%" />
		</style>

		<style name="checkbox">
			<font resource="font_m" color="%text_color%" />
			<image checked="checkbox_true" unchecked="checkbox_false" />
		</style>

		<style name="main_button">
			<highlight color="%highlight_color%" />
			<font resource="font_l" color="%text_button_color%" />
			<image resource="main_button" />
		</style>

		<style name="main_button_full_width">
			<highlight color="%highlight_color%" />
			<font resource="font_l" color="%text_button_color%" />
			<image resource="main_button_full_width" />
		</style>

		<style name="main_button_quarter_width">
			<highlight color="%highlight_color%" />
			<font resource="font_l" color="%text_button_color%" />
			<image resource="main_button_quarter_width" />
		</style>

		<style name="main_button_half_height">
			<highlight color="%highlight_color%" />
			<font resource="font_m" color="%text_button_color%" />
			<image resource="main_button_half_height" />
		</style>

		<style name="main_button_half_height_full_width">
			<highlight color="%highlight_color%" />
			<font resource="font_m" color="%text_button_color%" />
			<image resource="main_button_half_height_full_width" />
		</style>

		<style name="button_third_width">
			<highlight color="%highlight_color%" />
			<font resource="font_m" color="%text_button_color%" />
			<image resource="tab_3" />
		</style>

		<style name="console">
			<!--fastscroll rectcolor="%accent_color%" w="%fastscroll_w%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" /-->
			<color foreground="%text_color%" background="%background_color%" scroll="%background_color%" />
			<font resource="fixed" />
		</style>

		<style name="fileselector">
			<highlight color="%fileselector_highlight_color%" />
			<header background="%background_color%" textcolor="%accent_color%" separatorcolor="%accent_color%" separatorheight="%fileselector_separatorheight%" />
			<fastscroll linecolor="%fileselector_linecolor%" rectcolor="%fileselector_linecolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
			<separator color="%fileselector_linecolor%" height="%fileselector_separatorheight%" />
			<sort name="tw_gui_sort_order" />
			<icon folder="folder" file="file" />
			<background color="%background_color%" />
			<font resource="font_m" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%accent_color%" />
		</style>

		<style name="listbox">
			<highlight color="%fileselector_highlight_color%" />
			<header background="%background_color%" textcolor="%accent_color%" separatorcolor="%accent_color%" separatorheight="%fileselector_separatorheight%" />
			<!--fastscroll linecolor="%fileselector_linecolor%" rectcolor="%accent_color%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" /-->
			<separator color="%fileselector_linecolor%" height="%fileselector_separatorheight%" />
			<icon selected="radio_true" unselected="radio_false" />
			<background color="%background_color%" />
			<font resource="font_m" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%accent_color%" />
		</style>

		<style name="listbox_headerless">
			<highlight color="%fileselector_highlight_color%" />
			<fastscroll linecolor="%fileselector_linecolor%" rectcolor="%accent_color%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
			<separator color="%fileselector_linecolor%" height="%fileselector_separatorheight%" />
			<icon selected="radio_true" unselected="radio_false" />
			<background color="%background_color%" />
			<font resource="font_m" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%accent_color%" />
		</style>

		<style name="listbox_options">
			<background color="%background_color%" />
			<font resource="font_m" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%accent_color%" />
		</style>

		<style name="scrolllist">
			<highlight color="%fileselector_highlight_color%" />
			<!--header background="%background_color%" textcolor="%accent_color%" separatorcolor="%accent_color%" separatorheight="%fileselector_separatorheight%" /-->
			<!--fastscroll linecolor="%fileselector_linecolor%" rectcolor="%accent_color%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" /-->
			<separator color="%fileselector_linecolor%" height="%fileselector_separatorheight%" />
			<icon selected="checkbox_true" unselected="checkbox_false" />
			<background color="%background_color%" />
			<font resource="font_m" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%accent_color%" />
		</style>

		<style name="partitionlist">
			<highlight color="%fileselector_highlight_color%" />
			<header background="%background_color%" textcolor="%accent_color%" separatorcolor="%accent_color%" separatorheight="%fileselector_separatorheight%" />
			<!--fastscroll linecolor="%fileselector_linecolor%" rectcolor="%accent_color%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" /-->
			<dimensions lineh="%slidervalue_lineh%" linepadding="%slidervalue_padding%" sliderw="%slidervalue_sliderw%" sliderh="%slidervalue_sliderh%" />
			<icon selected="checkbox_true" unselected="checkbox_false" />
			<separator color="%fileselector_linecolor%" height="%fileselector_separatorheight%" />
			<background color="%background_color%" />
			<font resource="font_m" spacing="%partitionlist_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
		</style>

		<style name="partitionlist_summary">
			<highlight color="%fileselector_highlight_color%" />
			<background color="%background_color%" />
			<font resource="font_m" spacing="%partitionlist_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
			<icon selected="checkbox_true_small" unselected="checkbox_false_small" />
		</style>

		<style name="partitionlist_headerless_rb">
			<highlight color="%fileselector_highlight_color%" />
			<placement x="%col1_x_left%" y="%row2_header_y%" w="%content_width%" h="%partitionlist_storage_height%" />
			<fastscroll linecolor="%fileselector_linecolor%" rectcolor="%fileselector_linecolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
			<dimensions lineh="%slidervalue_lineh%" linepadding="%slidervalue_padding%" sliderw="%slidervalue_sliderw%" sliderh="%slidervalue_sliderh%" />
			<icon selected="radio_true" unselected="radio_false" />
			<separator color="%fileselector_linecolor%" height="%fileselector_separatorheight%" />
			<background color="%background_color%" />
			<font resource="font_m" spacing="%partitionlist_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
		</style>

		<style name="partitionlist_headerless_cb">
			<highlight color="%fileselector_highlight_color%" />
			<placement x="%col1_x_left%" y="%row2_header_y%" w="%content_width%" h="%partitionlist_storage_height%" />
			<fastscroll linecolor="%fileselector_linecolor%" rectcolor="%fileselector_linecolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
			<dimensions lineh="%slidervalue_lineh%" linepadding="%slidervalue_padding%" sliderw="%slidervalue_sliderw%" sliderh="%slidervalue_sliderh%" />
			<icon selected="checkbox_true" unselected="checkbox_false" />
			<separator color="%fileselector_linecolor%" height="%fileselector_separatorheight%" />
			<background color="%background_color%" />
			<font resource="font_m" spacing="%partitionlist_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
		</style>

		<style name="slider">
			<placement x="%center_x%" y="%slider_y%" />
			<font resource="font_l" color="%text_color%" />
			<resource base="slider" used="slider_used" touch="slider_touch" />
		</style>

		<style name="slidervalue">
			<resource handle="handle" />
			<font resource="font_m" color="%text_color%" />
			<colors line="%fileselector_linecolor%" />
			<dimensions lineh="%slidervalue_lineh%" linepadding="%slidervalue_padding%" sliderw="%slidervalue_sliderw%" sliderh="%slidervalue_sliderh%" />
		</style>
	</styles>

	<pages>
		<page name="main">
			<object type="action">
				<actions>
					<action function="set">tw_clear_destination=main2</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>
		</page>

		<page name="main2">
			<object type="template" name="page" />

			<object type="button" style="main_button">
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Install</text>
				<action function="page">install_type</action>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_right%" y="%row1_y%" />
				<text>Wipe</text>
				<action function="page">wipe_type1</action>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_left%" y="%row6_y%" />
				<text>Backup</text>
				<actions>
					<action function="set">tw_back=main</action>
					<action function="page">backup_selectstorage</action>
				</actions>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_right%" y="%row6_y%" />
				<text>Restore</text>
				<action function="page">restore</action>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<text>Reboot</text>
				<action function="page">reboot</action>
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_right" />
				<action function="page">main3</action>
			</object>
		</page>

		<page name="main3">
			<object type="template" name="page" />

			<object type="button" style="main_button">
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Mount</text>
				<action function="page">mount</action>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_right%" y="%row1_y%" />
				<text>Settings</text>
				<action function="page">settings</action>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_left%" y="%row6_y%" />
				<text>Files</text>
				<action function="page">filemanagerlist</action>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_right%" y="%row6_y%" />
				<text>Copy Log</text>
				<actions>
					<action function="set">tw_back=main3</action>
					<action function="set">tw_action=copylog</action>
					<action function="set">tw_text1=Copy Log to SD Card?</action>
					<action function="set">tw_action_text1=Copying Log to SD Card...</action>
					<action function="set">tw_complete_text1=Log Copy Complete</action>
					<action function="set">tw_slider_text=   Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_right%" y="%row11_y%" />
				<text>Advanced</text>
				<action function="page">advanced</action>
			</object>

			<object type="button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_left" />
				<action function="page">main2</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main2</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>
		</page>

		<page name="install_type">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Install > Select Type</text>
			</object>

			<object type="button" style="main_button_full_width">
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Install Zip</text>
				<actions>
					<action function="queueclear"></action>
					<action function="set">tw_selectimage=0</action>
					<action function="page">install</action>
				</actions>
			</object>

			<object type="button" style="main_button_full_width">
				<placement x="%col1_x_left%" y="%row6_y%" />
				<text>Install Image</text>
				<actions>
					<action function="queueclear"></action>
					<action function="set">tw_selectimage=1</action>
					<action function="page">install</action>
				</actions>
			</object>

			<object type="button" style="main_button_full_width">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<text>ADB Sideload</text>
				<action function="page">sideload</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>
		</page>

		<page name="install">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<condition var1="tw_selectimage" var2="0" />
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Install Zip > Select File</text>
			</object>

			<object type="text" style="text_m">
				<condition var1="tw_selectimage" var2="1" />
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Install Image > Select File</text>
			</object>

			<object type="fileselector">
				<condition var1="tw_selectimage" var2="0" />
				<placement x="%indent%" y="%row2_header_y%" w="%content_width%" h="%fileselector_install_height%" />
				<text>%tw_zip_location%</text>
				<filter extn=".zip" folders="1" files="1" />
				<path name="tw_zip_location" default="/sdcard" />
				<data name="tw_filename" />
				<selection name="tw_file" />
			</object>

			<object type="fileselector">
				<condition var1="tw_selectimage" var2="1" />
				<placement x="%indent%" y="%row2_header_y%" w="%content_width%" h="%fileselector_install_height%" />
				<text>%tw_zip_location%</text>
				<filter extn=".img" folders="1" files="1" />
				<path name="tw_zip_location" default="/sdcard" />
				<data name="tw_filename" />
				<selection name="tw_file" />
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_storage" />
				<actions>
					<action function="set">tw_storagetext=Install > Select Storage</action>
					<action function="set">tw_back=install</action>
					<action function="page">select_storage</action>
				</actions>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_selectimage" var2="0" />
					<condition var1="tw_filename" op="modified" />
				</conditions>
				<actions>
					<action function="queuezip"></action>
					<action function="page">flash_queue</action>
				</actions>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_selectimage" var2="1" />
					<condition var1="tw_filename" op="modified" />
				</conditions>
				<action function="page">flashimage_type</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">install_type</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>
		</page>

		<page name="flash_queue">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Install Zip > Queue</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%indent%" y="%row1_y%" />
				<text>File %tw_zip_queue_count% of 10:</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%indent%" y="%row2_y%" />
				<text>%tw_file%</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%indent%" y="%row4_y%" />
				<text>Folder:</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%indent%" y="%row5_y%" />
				<text>%tw_zip_location%</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%indent%" y="%row8_y%" />
				<text>Press back button to clear the queue.</text>
			</object>

			<object type="button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_left" />
				<actions>
					<action function="queueclear"></action>
					<action function="page">install</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%btn4_col2_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_addzip" />
				<action function="page">install</action>
			</object>

			<object type="button">
				<placement x="%btn4_col3_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_accept" />
				<action function="page">flash_confirm</action>
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_right" />
				<action function="page">flash_options</action>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="queueclear"></action>
					<action function="page">install</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>
		</page>

		<page name="flash_options">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<condition var1="tw_selectimage" var2="0" />
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Install Zip > Options</text>
			</object>

			<object type="checkbox">
				<placement x="%indent%" y="%row1_y%" />
				<text>Zip file signature verification</text>
				<data variable="tw_signed_zip_verify" />
			</object>

			<object type="checkbox">
				<condition var1="tw_has_injecttwrp" var2="1" />
				<placement x="%indent%" y="%row2a_y%" />
				<text>Inject TWRP after install</text>
				<data variable="tw_inject_after_zip" />
			</object>

			<object type="button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_left" />
				<action function="page">flash_queue</action>
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_accept_transp" />
				<action function="page">flash_confirm</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">flash_queue</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>
		</page>

		<page name="flash_confirm">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Install Zip > Confirm Flash</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%indent%" y="%row1_y%" />
				<text>File:</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%indent%" y="%row2_y%" />
				<text>%tw_file%</text>
			</object>

			<object type="button">
				<fill color="%transparent%" />
				<placement x="0" y="%row2_header_y%" w="%screen_width%" h="48" />
				<action function="page">flash_queue</action>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%indent%" y="%row4_y%" />
				<text>Queue:</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%indent%" y="%row5_y%" />
				<text>%tw_zip_queue_count% of 10 files queued</text>
			</object>

			<object type="button">
				<fill color="%transparent%" />
				<placement x="0" y="%row3a_y%" w="%screen_width%" h="48" />
				<action function="page">flash_queue</action>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%indent%" y="%row7_y%" />
				<text>Options:</text>
			</object>

			<object type="text" style="text_m">
				<condition var1="tw_signed_zip_verify" var2="1" />
				<placement x="%indent%" y="%row8_y%" />
				<text>Zip file signature verification</text>
			</object>

			<object type="text" style="text_m">
				<condition var1="tw_has_injecttwrp" var2="1" />
				<condition var1="tw_inject_after_zip" var2="1" />
				<placement x="%indent%" y="%row9_y%" />
				<text>Inject TWRP after install</text>
			</object>

			<object type="button">
				<fill color="%transparent%" />
				<placement x="0" y="%row6a_y%" w="%screen_width%" h="64" />
				<action function="page">flash_options</action>
			</object>

			<object type="slider">
				<text>   Confirm</text>
				<action function="flash">flash_zip</action>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="cancelzip"></action>
					<action function="page">install</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>
		</page>

		<page name="flash_zip">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Installing Zip: %tw_file%</text>
			</object>

			<object type="template" name="console" />

			<object type="template" name="progress_bar" />

			<object type="action">
				<condition var1="tw_operation_state" var2="1" />
				<action function="page">flash_done</action>
			</object>
		</page>

		<page name="flash_done">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m_fail">
				<condition var1="tw_operation_status" op="!=" var2="0" />
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Installation Failed</text>
			</object>

			<object type="text" style="text_m">
				<condition var1="tw_operation_status" var2="0" />
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Installation Successful</text>
			</object>

			<object type="template" name="console" />

			<object type="button" style="main_button_half_height">
				<placement x="%col1_x_left%" y="%row13_y%" />
				<text>Wipe cache/dalvik</text>
				<actions>
					<action function="set">tw_back=flash_done</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=/cache</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=wipe</action>
					<action function="set">tw_action2_param=dalvik</action>
					<action function="set">tw_text1=Wipe Cache &amp; Dalvik?</action>
					<action function="set">tw_action_text1=Wiping Cache &amp; Dalvik...</action>
					<action function="set">tw_complete_text1=Cache &amp; Dalvik Wipe Complete</action>
					<action function="set">tw_slider_text=   Wipe</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button" style="main_button_half_height">
				<placement x="%col1_x_right%" y="%row13_y%" />
				<text>Reboot System</text>
				<actions>
					<action function="set">tw_back=main2</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=system</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=No OS Installed! Are you</action>
					<action function="set">tw_text2=sure you wish to reboot?</action>
					<action function="set">tw_text3=</action>
					<action function="set">tw_text4=</action>
					<action function="set">tw_action_text1=Rebooting...</action>
					<action function="set">tw_action_text2=</action>
					<action function="set">tw_complete_text1=Rebooting...</action>
					<action function="set">tw_slider_text=   Reboot</action>
					<action function="page">rebootcheck</action>
				</actions>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="set">tw_clear_destination=install_type</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<actions>
					<action function="set">tw_clear_destination=main2</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>
		</page>

		<page name="flashimage_type">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Install Image > Select Target Partition</text>
			</object>

			<object type="partitionlist" style="partitionlist_headerless_rb">
				<data name="tw_flash_partition" />
				<listtype name="flashimg" />
			</object>

			<object type="button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_left" />
				<action function="page">install</action>
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_accept_transp" />
				<action function="page">flashimage_confirm</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">install</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>
		</page>

		<page name="flashimage_confirm">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Install Image > Confirm Flash</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%indent%" y="%row1_y%" />
				<text>File:</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%indent%" y="%row2_y%" />
				<text>%tw_file%</text>
			</object>

			<object type="button">
				<fill color="%transparent%" />
				<placement x="0" y="%row2_header_y%" w="%screen_width%" h="48" />
				<action function="page">install</action>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%indent%" y="%row4_y%" />
				<text>Target Partition:</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%indent%" y="%row5_y%" />
				<text>%tw_flash_partition%</text>
			</object>

			<object type="button">
				<fill color="%transparent%" />
				<placement x="0" y="%row3a_y%" w="%screen_width%" h="48" />
				<action function="page">flashimage_type</action>
			</object>

			<object type="slider">
				<text>   Confirm</text>
				<actions>
					<action function="set">tw_back=flashimage_confirm</action>
					<action function="set">tw_action=flashimage</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_action_text1=Flashing Image...</action>
					<action function="set">tw_action_text2=</action>
					<action function="set">tw_complete_text1=Image Flashed</action>
					<action function="page">action_page</action>
				</actions>
				<action function="flashimage"></action>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="set">tw_clear_destination=install</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<actions>
					<action function="set">tw_clear_destination=main2</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>
		</page>

		<page name="clear_vars">
			<object type="action">
				<action function="set">tw_operation_state=0</action>
				<action function="set">tw_text1=</action>
				<action function="set">tw_text2=</action>
				<action function="set">tw_text3=</action>
				<action function="set">tw_text4=</action>
				<action function="set">tw_action_text1=</action>
				<action function="set">tw_action_text2=</action>
				<action function="set">tw_action_param=</action>
				<action function="set">tw_has_action2=0</action>
				<action function="set">tw_action2=</action>
				<action function="set">tw_action2_param=</action>
				<action function="set">tw_has_cancel=0</action>
				<action function="set">tw_cancel_action=</action>
				<action function="set">tw_cancel_param=</action>
				<action function="set">tw_show_exclamation=0</action>
				<action function="set">tw_show_reboot=0</action>
				<action function="page">%tw_clear_destination%</action>
			</object>
		</page>

		<page name="confirm_action">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Confirm Action</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%center_x%" y="%row2_y%" placement="5" />
				<text>%tw_text1%</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%center_x%" y="%row3_y%" placement="5" />
				<text>%tw_text2%</text>
			</object>

			<object type="text" style="text_m">
				<condition var1="tw_action" op="!=" var2="changefilesystem" />
				<placement x="%center_x%" y="%row5_y%" placement="5" />
				<text>%tw_text3%</text>
			</object>

			<object type="text" style="text_m">
				<condition var1="tw_action" op="!=" var2="changefilesystem" />
				<placement x="%center_x%" y="%row6_y%" placement="5" />
				<text>%tw_text4%</text>
			</object>

			<object type="text" style="text_m_fail">
				<condition var1="tw_action" var2="changefilesystem" />
				<placement x="%center_x%" y="%row5_y%" placement="5" />
				<text>%tw_text3%</text>
			</object>

			<object type="text" style="text_m_fail">
				<condition var1="tw_action" var2="changefilesystem" />
				<placement x="%center_x%" y="%row6_y%" placement="5" />
				<text>%tw_text4%</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%center_x%" y="%row8_y%" placement="5" />
				<text>Press back button to cancel.</text>
			</object>

			<object type="slider">
				<text>%tw_slider_text%</text>
				<action function="page">action_page</action>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="set">tw_clear_destination=%tw_back%</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>
		</page>

		<page name="action_page">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>%tw_action_text1% %tw_action_text2%</text>
			</object>

			<object type="template" name="console" />

			<object type="template" name="progress_bar" />

			<object type="button" style="main_button_half_height">
				<condition var1="tw_has_cancel" var2="1" />
				<placement x="%col1_x_right%" y="%row13_y%" />
				<text>Cancel</text>
				<action function="%tw_cancel_action%">%tw_cancel_param%</action>
			</object>

			<object type="action">
				<condition var1="tw_operation_state" var2="1" />
				<actions>
					<action function="page">action_complete</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_has_action2" var2="0" />
				<actions>
					<action function="%tw_action%">%tw_action_param%</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_has_action2" var2="1" />
				<actions>
					<action function="%tw_action%">%tw_action_param%</action>
					<action function="%tw_action2%">%tw_action2_param%</action>
				</actions>
			</object>
		</page>

		<page name="singleaction_page">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>%tw_action_text1% %tw_action_text2%</text>
			</object>

			<object type="template" name="console" />

			<object type="template" name="progress_bar" />

			<object type="action">
				<condition var1="tw_operation_state" var2="1" />
				<actions>
					<action function="set">tw_page_done=1</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_has_action2" var2="0" />
				<actions>
					<action function="%tw_action%">%tw_action_param%</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_has_action2" var2="1" />
				<actions>
					<action function="%tw_action%">%tw_action_param%</action>
					<action function="%tw_action2%">%tw_action2_param%</action>
				</actions>
			</object>
		</page>

		<page name="action_complete">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m_fail">
				<condition var1="tw_operation_status" op="!=" var2="0" />
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>%tw_complete_text1% Failed</text>
			</object>

			<object type="text" style="text_m">
				<condition var1="tw_operation_status" var2="0" />
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>%tw_complete_text1% Successful</text>
			</object>

			<object type="template" name="console" />

			<object type="button" style="main_button_half_height">
				<placement x="%col1_x_left%" y="%row13_y%" />
				<text>Back</text>
				<actions>
					<action function="set">tw_clear_destination=%tw_back%</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>

			<object type="button" style="main_button_half_height">
				<placement x="%col1_x_right%" y="%row13_y%" />
				<text>Reboot System</text>
				<actions>
					<action function="set">tw_back=main2</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=system</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=No OS Installed! Are you</action>
					<action function="set">tw_text2=sure you wish to reboot?</action>
					<action function="set">tw_text3=</action>
					<action function="set">tw_text4=</action>
					<action function="set">tw_action_text1=Rebooting...</action>
					<action function="set">tw_action_text2=</action>
					<action function="set">tw_complete_text1=Rebooting...</action>
					<action function="set">tw_slider_text=   Reboot</action>
					<action function="page">rebootcheck</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<actions>
					<action function="set">tw_clear_destination=main2</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="set">tw_clear_destination=%tw_back%</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>
		</page>

		<page name="filecheck">
			<object type="action">
				<action function="fileexists">%tw_filecheck%</action>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_fileexists=1</action>
					<action function="page">%tw_existpage%</action>
				</actions>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" var2="1" />
				</conditions>
				<actions>
					<action function="set">tw_fileexists=0</action>
					<action function="page">%tw_notexistpage%</action>
				</actions>
			</object>
		</page>

		<page name="rebootcheck">
			<object type="action">
				<condition var1="tw_backup_system_size" op="&gt;=" var2="%tw_min_system%" />
				<action function="reboot">%tw_action_param%</action>
			</object>

			<object type="action">
				<condition var1="tw_backup_system_size" op="&lt;" var2="%tw_min_system%" />
				<action function="page">confirm_action</action>
			</object>
		</page>

		<page name="wipe_type1">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Wipe > Select Type</text>
			</object>

			<object type="button" style="main_button_full_width">
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Factory Reset</text>
				<action function="page">wipe</action>
			</object>

			<object type="button" style="main_button_full_width">
				<placement x="%col1_x_left%" y="%row6_y%" />
				<text>Advanced Wipe</text>
				<actions>
					<action function="set">partitionlisterror=0</action>
					<action function="page">advancedwipe</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_right" />
				<action function="page">wipe_type2</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>
		</page>

		<page name="wipe_type2">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Wipe > Select Type</text>
			</object>

			<object type="button" style="main_button_full_width">
				<condition var1="tw_has_data_media" var2="1" />
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Format Data</text>
				<action function="page">formatdata</action>
			</object>

			<object type="button" style="main_button_full_width">
				<conditions>
					<condition var1="tw_is_encrypted" var2="1" />
					<condition var1="tw_has_data_media" var2="0" />
				</conditions>
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Wipe Encryption</text>
				<actions>
					<action function="set">tw_back=wipe</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=DATAMEDIA</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=Wipe Encryption from Data?</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_action_text1=Formatting Data...</action>
					<action function="set">tw_complete_text1=Data Format Complete</action>
					<action function="set">tw_slider_text=   Format Data</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button" style="main_button_full_width">
				<placement x="%col1_x_left%" y="%row6_y%" />
				<text>File System Options</text><actions>
					<action function="set">partitionlisterror=0</action>
					<action function="page">partitionoptions_select</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_left" />
				<action function="page">wipe_type1</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>
		</page>

		<page name="wipe">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Wipe > Factory Reset</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%center_x%" y="%row1_y%" placement="5" />
				<text>Wipes Data, Cache, and Dalvik</text>
			</object>

			<object type="text" style="text_m_accent">
				<condition var1="tw_has_data_media" var2="1" />
				<placement x="%center_x%" y="%row2_y%" placement="5" />
				<text>(not including internal storage)</text>
			</object>

			<object type="text" style="text_m_accent">
				<conditions>
					<condition var1="tw_has_android_secure" var2="1" />
					<condition var1="fileexists" var2="/and-sec" />
				</conditions>
				<placement x="%center_x%" y="%row3_y%" placement="5" />
				<text>Android Secure</text>
			</object>

			<object type="text" style="text_m_accent">
				<condition var1="tw_has_sdext_partition" var2="1" />
				<placement x="%center_x%" y="%row4_y%" placement="5" />
				<text>SD-EXT</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%center_x%" y="%row6_y%" placement="5" />
				<text>Most of the time this is</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%center_x%" y="%row7_y%" placement="5" />
				<text>the only wipe that you need.</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%center_x%" y="%row9_y%" placement="5" />
				<text>Press back button to cancel.</text>
			</object>

			<object type="slider">
				<text>   Wipe</text>
				<actions>
					<action function="set">tw_back=wipe</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=data</action>
					<action function="set">tw_action_text1=Factory Reset...</action>
					<action function="set">tw_complete_text1=Factory Reset Complete</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">wipe_type1</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>
		</page>

		<page name="advancedwipe">
			<object type="action">
				<action function="set">tw_wipe_list=</action>
			</object>

			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Wipe > Advanced Wipe > Select Partitions</text>
			</object>

			<object type="partitionlist" style="partitionlist_headerless_cb">
				<placement x="%col1_x_left%" y="%row2_header_y%" w="%content_width%" h="%partitionlist_wipe_height%" />
				<data name="tw_wipe_list" />
				<listtype name="wipe" />
			</object>

			<object type="fill" color="%accent_color%">
				<placement x="%col1_x_left%" y="row10a_y" w="%content_width%" h="input_line_width" />
			</object>

			<object type="slider">
				<text>   Wipe</text>
				<actions>
					<action function="set">tw_back=advancedwipe</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=LIST</action>
					<action function="set">tw_text1=Wipe Selected Partition(s)?</action>
					<action function="set">tw_action_text1=Wiping Partition(s)...</action>
					<action function="set">tw_complete_text1=Wipe Complete</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">wipe_type1</action>
			</object>
		</page>

		<page name="formatdata">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Wipe > Format Data</text>
			</object>

			<object type="text" style="text_m_fail">
				<placement x="%center_x%" y="%row1_y%" placement="5" />
				<text>Format Data will wipe all of your apps,</text>
			</object>

			<object type="text" style="text_m_fail">
				<placement x="%center_x%" y="%row2_y%" placement="5" />
				<text>backups and media. This cannot be undone.</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%center_x%" y="%row3_y%" placement="5" />
				<text>Type yes to continue. Press back to cancel.</text>
			</object>

			<object type="input">
				<placement x="%col1_x_left%" y="%row5_y%" w="%content_width%" h="%input_height%" />
				<text>%tw_confirm_formatdata%</text>
				<data name="tw_confirm_formatdata" />
				<restrict minlen="3" maxlen="3" allow="yes" />
				<action function="page">formatdata_confirm</action>
			</object>

			<object type="fill" color="%accent_color%">
				<placement x="%col1_x_left%" y="row6_input_y" w="%content_width%" h="input_line_width" />
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">wipe_type2</action>
			</object>
		</page>

		<page name="formatdata_confirm">
			<object type="action">
				<condition var1="tw_confirm_formatdata" op="=" var2="yes" />
				<actions>
					<action function="set">tw_back=formatdata</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=DATAMEDIA</action>
					<action function="set">tw_action_text1=Formatting Data...</action>
					<action function="set">tw_complete_text1=Data Format Complete</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_confirm_formatdata" op="!=" var2="yes" />
				<action function="page">formatdata</action>
			</object>
		</page>

		<page name="checkpartitionlist">
			<object type="action">
				<condition var1="tw_check_partition_list" op="=" var2="1" />
				<actions>
					<action function="set">partitionlisterror=0</action>
					<action function="getpartitiondetails"></action>
					<action function="page">partitionoptions</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_check_partition_list" op="!=" var2="1" />
				<actions>
					<action function="set">partitionlisterror=1</action>
					<action function="set">tw_wipe_list=</action>
					<action function="page">partitionoptions_select</action>
				</actions>
			</object>
		</page>

		<page name="partitionoptions_select">
			<object type="action">
				<action function="set">tw_wipe_list=</action>
			</object>

			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Wipe > File System Options > Select Partitions</text>
			</object>

			<object type="partitionlist" style="partitionlist_headerless_cb">
				<placement x="%col1_x_left%" y="%row2_header_y%" w="%content_width%" h="%partitionlist_wipe_height%" />
				<data name="tw_wipe_list" />
				<listtype name="wipe" />
			</object>

			<object type="fill" color="%accent_color%">
				<placement x="%col1_x_left%" y="row10a_y" w="%content_width%" h="input_line_width" />
			</object>

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<text>Select only one partition!</text>
			</object>

			<object type="text" style="text_m_fail">
				<condition var1="partitionlisterror" var2="1" />
				<placement x="%col1_x_left%" y="%row12_y%" />
				<text>Invalid selection!</text>
			</object>

			<object type="text" style="text_m">
				<condition var1="partitionlisterror" var2="1" />
				<placement x="%col1_x_left%" y="%row13_y%" />
				<text>Not all listed partitions</text>
			</object>

			<object type="text" style="text_m">
				<condition var1="partitionlisterror" var2="1" />
				<placement x="%col1_x_left%" y="%row14_y%" />
				<text>can be modified.</text>
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_right" /><actions>
					<action function="checkpartitionlist"></action>
					<action function="page">checkpartitionlist</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">wipe_type2</action>
			</object>
		</page>

		<page name="partitionoptions">

			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Wipe > File System Options > Select Action</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Partition: %tw_partition_name%</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%col1_x_right%" y="%row1_y%" />
				<text>File system: %tw_partition_file_system%</text>
			</object>

			<object type="text" style="text_m">
				<condition var1="tw_partition_is_present" var2="1" />
				<placement x="%col1_x_left%" y="%row2a_y%" />
				<text>Present: Yes</text>
			</object>

			<object type="text" style="text_m">
				<condition var1="tw_partition_is_present" var2="0" />
				<placement x="%col1_x_left%" y="%row2a_y%" />
				<text>Present: No</text>
			</object>

			<object type="text" style="text_m">
				<condition var1="tw_partition_removable" var2="1" />
				<placement x="%col1_x_right%" y="%row2a_y%" />
				<text>Removable: Yes</text>
			</object>

			<object type="text" style="text_m">
				<condition var1="tw_partition_removable" var2="0" />
				<placement x="%col1_x_right%" y="%row2a_y%" />
				<text>Removable: No</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row3a_y%" />
				<text>Size: %tw_partition_size%MB</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%col1_x_right%" y="%row3a_y%" />
				<text>Used: %tw_partition_used%MB</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row4a_y%" />
				<text>Free: %tw_partition_free%MB</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%col1_x_right%" y="%row4a_y%" />
				<text>Backup Size: %tw_partition_backup_size%MB</text>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_partition_can_resize" op="=" var2="1" />
				<placement x="%col1_x_left%" y="%row6_y%" />
				<text>Resize</text>
				<actions>
					<action function="set">tw_back=partitionoptions</action>
					<action function="set">tw_action=resize</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=getpartitiondetails</action>
					<action function="set">tw_text1=Resize %tw_partition_name%?</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_action_text1=Resizing...</action>
					<action function="set">tw_complete_text1=Resize Complete</action>
					<action function="set">tw_slider_text=   Resize</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_partition_can_repair" op="=" var2="1" />
				<placement x="%col1_x_right%" y="%row6_y%" />
				<text>Repair</text>
				<actions>
					<action function="set">tw_back=partitionoptions</action>
					<action function="set">tw_action=repair</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=Repair %tw_partition_name%?</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_action_text1=Repairing...</action>
					<action function="set">tw_complete_text1=Repair Complete</action>
					<action function="set">tw_slider_text=   Repair</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_left" />
				<action function="page">partitionoptions_select</action>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_right%" y="%row11_y%" />
				<text>Change</text>
				<action function="page">selectfilesystem</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">partitionoptions_select</action>
			</object>
		</page>

		<page name="refreshfilesystem">
			<object type="action">
				<condition var1="tw_check_partition_list" op="=" var2="1" />
				<actions>
					<action function="set">partitionlisterror=0</action>
					<action function="getpartitiondetails"></action>
					<action function="page">selectfilesystem</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_check_partition_list" op="!=" var2="1" />
				<actions>
					<action function="set">partitionlisterror=1</action>
					<action function="set">tw_wipe_list=</action>
					<action function="page">advancedwipe</action>
				</actions>
			</object>
		</page>

		<page name="selectfilesystem">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Partition: %tw_partition_name% > Select File System</text>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_partition_ext" op="=" var2="1" />
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>EXT2</text>
				<actions>
					<action function="set">tw_back=refreshfilesystem</action>
					<action function="set">tw_action=changefilesystem</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_action_new_file_system=ext2</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=Change %tw_partition_name% to EXT2?</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_text3=Not all file systems are supported</action>
					<action function="set">tw_text4=by all kernels. Proceed with caution!</action>
					<action function="set">tw_action_text1=Formatting...</action>
					<action function="set">tw_complete_text1=Format Complete</action>
					<action function="set">tw_slider_text=   Change</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_partition_ext" op="=" var2="1" />
				<placement x="%col1_x_left%" y="%row6_y%" />
				<text>EXT3</text>
				<actions>
					<action function="set">tw_back=refreshfilesystem</action>
					<action function="set">tw_action=changefilesystem</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_action_new_file_system=ext3</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=Change %tw_partition_name% to EXT3?</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_text3=Not all file systems are supported</action>
					<action function="set">tw_text4=by all kernels. Proceed with caution!</action>
					<action function="set">tw_action_text1=Formatting...</action>
					<action function="set">tw_complete_text1=Format Complete</action>
					<action function="set">tw_slider_text=   Change</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_partition_ext" op="=" var2="1" />
				<placement x="%col1_x_left%" y="%row11_y%" />
				<text>EXT4</text>
				<actions>
					<action function="set">tw_back=refreshfilesystem</action>
					<action function="set">tw_action=changefilesystem</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_action_new_file_system=ext4</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=Change %tw_partition_name% to EXT4?</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_text3=Not all file systems are supported by all kernels.</action>
					<action function="set">tw_text4=Proceed with caution!</action>
					<action function="set">tw_action_text1=Formatting...</action>
					<action function="set">tw_complete_text1=Format Complete</action>
					<action function="set">tw_slider_text=   Change</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_partition_vfat" op="=" var2="1" />
				<placement x="%col1_x_right%" y="%row1_y%" />
				<text>FAT</text>
				<actions>
					<action function="set">tw_back=refreshfilesystem</action>
					<action function="set">tw_action=changefilesystem</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_action_new_file_system=vfat</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=Change %tw_partition_name% to FAT?</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_text3=Not all file systems are supported</action>
					<action function="set">tw_text4=by all kernels. Proceed with caution!</action>
					<action function="set">tw_action_text1=Formatting...</action>
					<action function="set">tw_complete_text1=Format Complete</action>
					<action function="set">tw_slider_text=   Change</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_partition_exfat" op="=" var2="1" />
				<placement x="%col1_x_right%" y="%row6_y%" />
				<text>exFAT</text>
				<actions>
					<action function="set">tw_back=refreshfilesystem</action>
					<action function="set">tw_action=changefilesystem</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_action_new_file_system=exfat</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=Change %tw_partition_name% to exFAT?</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_text3=Not all file systems are supported</action>
					<action function="set">tw_text4=by all kernels. Proceed with caution!</action>
					<action function="set">tw_action_text1=Formatting...</action>
					<action function="set">tw_complete_text1=Format Complete</action>
					<action function="set">tw_slider_text=   Change</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_partition_f2fs" op="=" var2="1" />
				<placement x="%col1_x_right%" y="%row11_y%" />
				<text>F2FS</text>
				<actions>
					<action function="set">tw_back=refreshfilesystem</action>
					<action function="set">tw_action=changefilesystem</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_action_new_file_system=f2fs</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=Change %tw_partition_name% to F2FS?</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_text3=Not all file systems are supported</action>
					<action function="set">tw_text4=by all kernels. Proceed with caution!</action>
					<action function="set">tw_action_text1=Formatting...</action>
					<action function="set">tw_complete_text1=Format Complete</action>
					<action function="set">tw_slider_text=   Change</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">partitionoptions</action>
			</object>
		</page>

		<page name="backup_selectstorage">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Backup > Select Storage</text>
			</object>

			<object type="partitionlist" style="partitionlist_headerless_rb">
				<data name="tw_storage_path" />
				<listtype name="storage" />
			</object>

			<object type="button">
				<placement x="%btn4_col2_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_refresh" />
				<actions>
					<action function="refreshsizes"></action>
					<action function="page">backup_selectstorage</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="tw_back" var2="backup_confirm" />
				<placement x="%btn4_col3_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_accept" />
				<action function="page">backup_confirm</action>
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_right" />
				<actions>
					<action function="set">tw_back=backup_selectstorage</action>
					<action function="page">backup_selectpartitions</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">%tw_back%</action>
			</object>

			<object type="action">
				<touch key="power+voldown" />
				<action function="screenshot" />
			</object>
		</page>

		<page name="backup_selectpartitions">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Backup > Select Partitions</text>
			</object>

			<object type="partitionlist" style="partitionlist_headerless_cb">
				<placement x="%col1_x_left%" y="%row2_header_y%" w="%content_width%" h="%partitionlist_wipe_height%" />
				<data name="tw_backup_list" />
				<listtype name="backup" />
			</object>

			<object type="fill" color="%accent_color%">
				<placement x="%col1_x_left%" y="row10a_y" w="%content_width%" h="input_line_width" />
			</object>

			<object type="button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_left" />
				<action function="page">backup_selectstorage</action>
			</object>

			<object type="button">
				<placement x="%btn4_col2_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_refresh" />
				<action function="page">backup_selectpartitions</action>
			</object>

			<object type="button">
				<placement x="%btn4_col3_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_accept" />
				<action function="page">backup_confirm</action>
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_right" />
				<actions>
					<action function="set">tw_back=backup_selectpartitions</action>
					<action function="page">backup_options</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">%tw_back%</action>
			</object>

			<object type="action">
				<touch key="power+voldown" />
				<action function="screenshot" />
			</object>
		</page>

		<page name="backup_options">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Backup > Options</text>
			</object>

			<object type="listbox" style="scrolllist">
				<placement x="%col1_x_left%" y="%row2_header_y%" w="%content_width%" h="%partitionlist_wipe_height%" />
				<listitem name="Enable compression">
					<data variable="tw_use_compression" />
				</listitem>
				<listitem name="Skip MD5 generation during backup">
					<data variable="tw_skip_md5_generate" />
				</listitem>
				<listitem name="Disable Free Space Check">
					<data variable="tw_disable_free_space" />
				</listitem>
			</object>

			<object type="button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_left" />
				<action function="page">backup_selectpartitions</action>
			</object>

			<object type="button">
				<conditions>
					<condition var1="tw_include_encrypted_backup" var2="1" />
					<condition var1="tw_encrypt_backup" var2="0" />
				</conditions>
				<placement x="%btn4_col2_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_encryption_dis" />
				<actions>
					<action function="set">tw_password_not_match=0</action>
					<action function="set">tw_back=backup_options</action>
					<action function="page">backupencryption</action>
				</actions>
			</object>

			<object type="button">
				<conditions>
					<condition var1="tw_include_encrypted_backup" var2="1" />
					<condition var1="tw_encrypt_backup" var2="1" />
				</conditions>
				<placement x="%btn4_col2_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_encryption_en" />
				<actions>
					<action function="set">tw_password_not_match=0</action>
					<action function="set">tw_back=backup_options</action>
					<action function="page">backupencryption</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_accept_transp" />
				<actions>
					<action function="set">tw_back=backup_options</action>
					<action function="page">backup_confirm</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">%tw_back%</action>
			</object>

			<object type="action">
				<touch key="power+voldown" />
				<action function="screenshot" />
			</object>
		</page>

		<page name="backup_confirm">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Backup > Confirm Backup</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Name:</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row2_y%" />
				<text>%tw_backup_name%</text>
			</object>

			<object type="fill" color="%accent_color%">
				<placement x="%col1_x_left%" y="%row3_input_y%" w="%content_half_width%" h="input_line_width" placement="1" />
			</object>

			<object type="button">
				<fill color="%transparent%" />
				<placement x="0" y="%row2_header_y%" w="%screen_half_width%" h="48" />
				<actions>
					<action function="set">tw_back=backup_confirm</action>
					<action function="set">tw_fileexists=0</action>
					<action function="page">backup_name1</action>
				</actions>
			</object>

			<object type="fill" color="%background_color%">
				<placement x="%col1_x_left_negative%" y="%row2_header_y%" w="%screen_half_width%" h="48" />
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%col1_x_left%" y="%row3a_y%" />
				<text>Partitions:</text>
			</object>

			<object type="partitionlist" style="partitionlist_summary">
				<placement x="%col1_x_left%" y="%row4a_y%" w="%content_half_width%" h="96" />
				<data name="tw_backup_list" />
				<listtype name="backup" />
			</object>

			<object type="button">
				<fill color="%transparent%" />
				<placement x="0" y="%row3a_y%" w="%screen_half_width%" h="112" />
				<actions>
					<action function="set">tw_back=backup_confirm</action>
					<action function="page">backup_selectpartitions</action>
				</actions>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%col1_x_right%" y="%row1_y%" />
				<text>Storage:</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%col1_x_right%" y="%row2_y%" />
				<text>%tw_storage_display_name%</text>
			</object>

			<object type="button">
				<fill color="%transparent%" />
				<placement x="%center_x%" y="%row2_header_y%" w="%screen_half_width%" h="48" />
				<actions>
					<action function="set">tw_back=backup_confirm</action>
					<action function="page">backup_selectstorage</action>
				</actions>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%col1_x_right%" y="%row3a_y%" />
				<text>Encryption:</text>
			</object>

			<object type="text" style="text_m">
				<conditions>
					<condition var1="tw_include_encrypted_backup" var2="1" />
					<condition var1="tw_encrypt_backup" var2="0" />
				</conditions>
				<placement x="%col1_x_right%" y="%row4a_y%" />
				<text>Disabled</text>
			</object>

			<object type="text" style="text_m">
				<conditions>
					<condition var1="tw_include_encrypted_backup" var2="1" />
					<condition var1="tw_encrypt_backup" var2="1" />
				</conditions>
				<placement x="%col1_x_right%" y="%row4a_y%" />
				<text>Enabled</text>
			</object>

			<object type="button">
				<fill color="%transparent%" />
				<placement x="%center_x%" y="%row3a_y%" w="%screen_half_width%" h="48" />
				<actions>
					<action function="set">tw_back=backup_confirm</action>
					<action function="page">backupencryption</action>
				</actions>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%col1_x_right%" y="%row6_y%" />
				<text>Selected Options:</text>
			</object>

			<object type="listbox" style="listbox_options">
				<placement x="%col1_x_right%" y="%row7_y%" w="%content_half_width%" h="80" />
				<listitem name="Enable Compression">
					<condition var1="tw_use_compression" var2="1" />
				</listitem>
				<listitem name="Skip MD5 generation">
					<condition var1="tw_skip_md5_generate" var2="1" />
				</listitem>
				<listitem name="Disable Free Space Check">
					<condition var1="tw_disable_free_space" var2="1" />
				</listitem>
			</object>

			<!--object type="text" style="text_m">
				<condition var1="tw_use_compression" var2="1" />
				<placement x="%col1_x_right%" y="%row7_y%" />
				<text>Enable Compression</text>
			</object>

			<object type="text" style="text_m">
				<condition var1="tw_skip_md5_generate" var2="1" />
				<placement x="%col1_x_right%" y="%row8_y%" />
				<text>Skip MD5 generation</text>
			</object>

			<object type="text" style="text_m">
				<condition var1="tw_disable_free_space" var2="1" />
				<placement x="%col1_x_right%" y="%row9_y%" />
				<text>Disable Free Space Check</text>
			</object-->

			<object type="button">
				<fill color="%transparent%" />
				<placement x="%center_x%" y="%row6_y%" w="%screen_half_width%" h="64" />
				<actions>
					<action function="set">tw_back=backup_confirm</action>
					<action function="page">backup_options</action>
				</actions>
			</object>

			<object type="slider">
				<text>   Confirm</text>
				<action function="page">backup_run</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">backup_selectstorage</action>
			</object>
		</page>

		<page name="backup_name1">
			<object type="action">
				<condition var1="tw_backup_name" op="=" var2="(Auto Generate)" />
				<action function="generatebackupname"></action>
			</object>

			<object type="action">
				<action function="page">backup_name2</action>
			</object>
		</page>

		<page name="backup_name2">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Backup > Set Backup Name</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Name:</text>
			</object>

			<object type="input">
				<placement x="%col1_x_left%" y="%row2_y%" w="%content_width%" h="%input_height%" />
				<text>%tw_backup_name%</text>
				<data name="tw_backup_name" />
				<restrict minlen="1" maxlen="64" allow=" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890-_.{}[]" />
				<actions>
					<action function="set">tw_filecheck=%tw_backups_folder%/%tw_backup_name%</action>
					<action function="set">tw_existpage=backup_name2</action>
					<action function="set">tw_notexistpage=backup_confirm</action>
					<action function="page">filecheck</action>
				</actions>
			</object>

			<object type="fill" color="%accent_color%">
				<placement x="%col1_x_left%" y="%row3_input_y%" w="%content_width%" h="%input_line_width%" placement="1" />
			</object>

			<object type="fill" color="%text_fail_color%">
				<condition var1="tw_fileexists" var2="1" />
				<placement x="%col1_x_left%" y="%row3_input_y%" w="%content_width%" h="%input_line_width%" placement="1" />
			</object>

			<object type="text" style="text_m_fail">
				<condition var1="tw_fileexists" var2="1" />
				<placement x="%col1_x_left%" y="%row3_input_y%" />
				<text>A backup with that name already exists!</text>
			</object>

			<object type="button" style="main_button_half_height">
				<placement x="%col1_x_left%" y="%row4_y%" />
				<text>Cancel</text>
				<actions>
					<action function="set">tw_backup_name=(Auto Generate)</action>
					<action function="page">backup_confirm</action>
				</actions>
			</object>

			<object type="button" style="main_button_half_height">
				<placement x="%col1_x_right%" y="%row4_y%" />
				<text>Append Date</text>
				<action function="appenddatetobackupname"></action>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<actions>
					<action function="set">tw_backup_name=(Auto Generate)</action>
					<action function="page">main</action>
				</actions>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="set">tw_backup_name=(Auto Generate)</action>
					<action function="page">backup_confirm</action>
				</actions>
			</object>
		</page>

		<page name="backupencryption">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Backup > Enable Encryption</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Enter Password:</text>
			</object>

			<object type="input">
				<placement x="%col1_x_left%" y="%row2_y%" w="%content_width%" h="%input_height%" />
				<text>%tw_backup_encrypt_display%</text>
				<data name="tw_backup_password" mask="*" maskvariable="tw_backup_encrypt_display" />
				<restrict minlen="1" maxlen="32" allow="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890_" />
				<action function="page">backupencryption2</action>
			</object>

			<object type="fill" color="%accent_color%">
				<placement x="%col1_x_left%" y="%row3_input_y%" w="%content_width%" h="%input_line_width%" placement="1" />
			</object>

			<object type="fill" color="%text_fail_color%">
				<condition var1="tw_password_not_match" var2="1" />
				<placement x="%col1_x_left%" y="row3_input_y" w="%content_width%" h="input_line_width" placement="1" />
			</object>

			<object type="text" style="text_m_fail">
				<condition var1="tw_password_not_match" var2="1" />
				<placement x="%col1_x_left%" y="%row3_input_y%" />
				<text>Passwords do not match!</text>
			</object>

			<object type="button" style="main_button_half_height">
				<placement x="%col1_x_right%" y="%row4_y%" />
				<text>Cancel</text>
				<actions>
					<action function="set">tw_encrypt_backup=0</action>
					<action function="set">tw_backup_password=</action>
					<action function="set">tw_backup_password2=</action>
					<action function="set">tw_backup_encrypt_display=</action>
					<action function="set">tw_backup_encrypt_display2=</action>
					<action function="page">%tw_back%</action>
				</actions>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">%tw_back%</action>
			</object>
		</page>

		<page name="backupencryption2">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Backup > Enable Encryption</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Enter Password again:</text>
			</object>

			<object type="input">
				<placement x="%col1_x_left%" y="%row2_y%" w="%content_width%" h="%input_height%" />
				<text>%tw_backup_encrypt_display2%</text>
				<data name="tw_backup_password2" mask="*" maskvariable="tw_backup_encrypt_display2" />
				<restrict minlen="1" maxlen="32" allow="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890_" />
				<action function="page">checkbackuppassword</action>
			</object>

			<object type="fill" color="%accent_color%">
				<placement x="%col1_x_left%" y="%row3_input_y%" w="%content_width%" h="%input_line_width%" placement="1" />
			</object>

			<object type="button" style="main_button_half_height">
				<placement x="%col1_x_right%" y="%row4_y%" />
				<text>Cancel</text>
				<actions>
					<action function="set">tw_encrypt_backup=0</action>
					<action function="set">tw_backup_password=</action>
					<action function="set">tw_backup_password2=</action>
					<action function="set">tw_backup_encrypt_display=</action>
					<action function="set">tw_backup_encrypt_display2=</action>
					<action function="page">%tw_back%</action>
				</actions>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">%tw_back%</action>
			</object>
		</page>

		<page name="checkbackuppassword">
			<object type="action">
				<condition var1="tw_backup_password2" var2="tw_backup_password" />
				<actions>
					<action function="set">tw_encrypt_backup=1</action>
					<action function="page">%tw_back%</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_backup_password2" op="!=" var2="tw_backup_password" />
				<actions>
					<action function="set">tw_encrypt_backup=0</action>
					<action function="set">tw_password_not_match=1</action>
					<action function="set">tw_backup_password=</action>
					<action function="set">tw_backup_password2=</action>
					<action function="set">tw_backup_encrypt_display=</action>
					<action function="set">tw_backup_encrypt_display2=</action>
					<action function="page">backupencryption</action>
				</actions>
			</object>
		</page>

		<page name="backup_run">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>%tw_operation% %tw_partition%</text>
			</object>

			<object type="template" name="console" />

			<object type="template" name="progress_bar" />

			<object type="text" style="text_m">
				<placement x="%indent%" y="%row13a_y%" />
				<text>%tw_file_progress%</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%indent%" y="%row14a_y%" />
				<text>%tw_size_progress%</text>
			</object>

			<object type="button" style="main_button_half_height">
				<placement x="%col1_x_right%" y="%row13_y%" />
				<text>Cancel</text>
				<action function="cancelbackup"></action>
			</object>

			<object type="action">
				<action function="nandroid">backup</action>
			</object>

			<object type="action">
				<condition var1="tw_operation_state" var2="1" />
				<condition var1="tw_cancel_backup" var2="0" />
				<actions>
					<action function="set">tw_back=backup_selectpartitions</action>
					<action function="set">tw_complete_text1=Backup Complete</action>
					<action function="set">tw_show_reboot=1</action>
					<action function="page">action_complete</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_operation_state" var2="1" />
				<condition var1="tw_cancel_backup" var2="1" />
				<actions>
					<action function="set">tw_back=backup_selectpartitions</action>
					<action function="set">tw_complete_text1=Backup Cancelled</action>
					<action function="set">tw_show_reboot=1</action>
					<action function="page">action_complete</action>
				</actions>
			</object>
		</page>

		<page name="restore">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Restore > Select Backup</text>
			</object>

			<object type="fileselector">
				<placement x="%indent%" y="%row2_header_y%" w="%content_width%" h="%fileselector_install_height%" />
				<text>%tw_storage_display_name%</text>
				<filter folders="1" files="0" nav="0" />
				<path name="tw_backups_folder" />
				<data name="tw_restore" default="" />
				<selection name="tw_restore_name" />
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_storage" />
				<actions>
					<action function="set">tw_storagetext=Restore > Select Storage</action>
					<action function="set">tw_back=restore</action>
					<action function="page">select_storage</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_restore" op="modified" />
				<actions>
					<action function="readBackup"></action>
					<action function="set">tw_back=restore</action>
					<action function="page">restore_read</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>
		</page>

		<page name="restore_read">
			<object type="action">
				<condition var1="tw_restore_encrypted" var2="1" />
				<actions>
					<action function="set">tw_password_fail=0</action>
					<action function="page">restore_decrypt</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_restore_encrypted" var2="0" />
				<actions>
					<action function="page">restore_select</action>
				</actions>
			</object>
		</page>

		<page name="restore_decrypt">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Restore > Encrypted Backup</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Enter Password:</text>
			</object>

			<object type="input">
				<placement x="%col1_x_left%" y="%row2_y%" w="%content_width%" h="%input_height%" />
				<text>%tw_restore_display%</text>
				<data name="tw_restore_password" mask="*" maskvariable="tw_restore_display" />
				<restrict minlen="1" maxlen="32" allow="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890_" />
				<action function="page">try_restore_decrypt</action>
			</object>

			<object type="fill" color="%accent_color%">
				<placement x="%col1_x_left%" y="%row3_input_y%" w="%content_width%" h="%input_line_width%" placement="1" />
			</object>

			<object type="fill" color="%text_fail_color%">
				<condition var1="tw_password_fail" var2="1" />
				<placement x="%col1_x_left%" y="row3_input_y" w="%content_width%" h="input_line_width" placement="1" />
			</object>

			<object type="text" style="text_m_fail">
				<condition var1="tw_password_fail" var2="1" />
				<placement x="%col1_x_left%" y="%row3_input_y%" />
				<text>Password failed, please try again!</text>
			</object>

			<object type="button" style="main_button_half_height">
				<placement x="%col1_x_left%" y="%row4_y%" />
				<text>Cancel</text>
				<actions>
					<action function="set">tw_page_done=1</action>
					<action function="page">restore</action>
				</actions>
			</object>

			<object type="button" style="main_button_half_height">
				<placement x="%col1_x_right%" y="%row4_y%" />
				<text>Delete Backup</text>
				<actions>
					<action function="set">tw_back=restore</action>
					<action function="set">tw_action=cmd</action>
					<action function="set">tw_action_param=cd %tw_backups_folder% &amp;&amp; rm -rf &quot;%tw_restore_name%&quot;</action>
					<action function="set">tw_text1=Delete Backup? %tw_restore_name%</action>
					<action function="set">tw_text2=This cannot be undone!</action>
					<action function="set">tw_action_text1=Deleting Backup...</action>
					<action function="set">tw_complete_text1=Backup Delete Complete</action>
					<action function="set">tw_slider_text=Delete</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">restore</action>
			</object>
		</page>

		<page name="try_restore_decrypt">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Restore > Trying Decryption</text>
			</object>

			<object type="template" name="console" />

			<object type="template" name="progress_bar" />

			<object type="action">
				<action function="decrypt_backup"></action>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" op="!=" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_password_fail=1</action>
					<action function="page">restore_decrypt</action>
				</actions>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" op="=" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_page_done=1</action>
					<action function="page">restore_select</action>
				</actions>
			</object>
		</page>

		<page name="restore_select">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Restore > Select Partitions</text>
			</object>

			<object type="partitionlist" style="partitionlist_headerless_cb">
				<placement x="%col1_x_left%" y="%row2_header_y%" w="%content_width%" h="%partitionlist_wipe_height%" />
				<data name="tw_restore_list" selectedlist="tw_restore_selected" />
				<listtype name="restore" />
			</object>

			<object type="fill" color="%accent_color%">
				<placement x="%col1_x_left%" y="row10a_y" w="%content_width%" h="input_line_width" />
			</object>

			<object type="button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_left" />
				<action function="page">restore</action>
			</object>

			<object type="button">
				<placement x="%btn4_col2_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_delete" />
				<actions>
					<action function="set">tw_back=restore</action>
					<action function="set">tw_action=cmd</action>
					<action function="set">tw_action_param=cd %tw_backups_folder% &amp;&amp; rm -rf &quot;%tw_restore_name%&quot;</action>
					<action function="set">tw_text1=Delete Backup?</action>
					<action function="set">tw_text2=%tw_restore_name%</action>
					<action function="set">tw_text4=This cannot be undone!</action>
					<action function="set">tw_action_text1=Deleting Backup...</action>
					<action function="set">tw_complete_text1=Backup Delete Complete</action>
					<action function="set">tw_slider_text=   Delete</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%btn4_col3_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_accept" />
				<action function="page">restore_confirm</action>
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_right" />
				<actions>
					<action function="set">tw_back=restore_select</action>
					<action function="page">restore_options</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">%tw_back%</action>
			</object>
		</page>

		<page name="restore_options">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Restore > Options</text>
			</object>

			<object type="listbox" style="scrolllist">
				<placement x="%col1_x_left%" y="%row2_header_y%" w="%content_width%" h="%partitionlist_wipe_height%" />
				<listitem name="Enable MD5 verification of backup files">
					<data variable="tw_skip_md5_check" />
				</listitem>
			</object>

			<object type="button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_left" />
				<action function="page">restore_select</action>
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_accept_transp" />
				<actions>
					<action function="set">tw_back=restore_options</action>
					<action function="page">restore_confirm</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">%tw_back%</action>
			</object>

			<object type="action">
				<touch key="power+voldown" />
				<action function="screenshot" />
			</object>
		</page>

		<page name="renamebackup">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Restore > Rename Backup</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Name:</text>
			</object>

			<object type="input">
				<placement x="%col1_x_left%" y="%row2_y%" w="%content_width%" h="%input_height%" />
				<text>%tw_backup_rename%</text>
				<data name="tw_backup_rename" />
				<restrict minlen="1" maxlen="64" allow=" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890-_.{}[]" />
				<actions>
					<action function="set">tw_back=restore</action>
					<action function="set">tw_action=cmd</action>
					<action function="set">tw_action_param=cd %tw_backups_folder% &amp;&amp; mv &quot;%tw_restore_name%&quot; &quot;%tw_backup_rename%&quot;</action>
					<action function="set">tw_text1=Rename Backup?</action>
					<action function="set">tw_text2=This cannot be undone!</action>
					<action function="set">tw_action_text1=Renaming Backup...</action>
					<action function="set">tw_complete_text1=Backup Rename Complete</action>
					<action function="set">tw_slider_text=Rename</action>
					<action function="set">tw_filecheck=%tw_backups_folder%/%tw_backup_rename%</action>
					<action function="set">tw_existpage=renamebackup</action>
					<action function="set">tw_notexistpage=confirm_action</action>
					<action function="page">filecheck</action>
				</actions>
			</object>

			<object type="fill" color="%accent_color%">
				<placement x="%col1_x_left%" y="%row3_input_y%" w="%content_width%" h="%input_line_width%" placement="1" />
			</object>

			<object type="fill" color="%text_fail_color%">
				<condition var1="tw_fileexists" var2="1" />
				<placement x="%col1_x_left%" y="%row3_input_y%" w="%content_width%" h="%input_line_width%" placement="1" />
			</object>

			<object type="text" style="text_m_fail">
				<condition var1="tw_fileexists" var2="1" />
				<placement x="%col1_x_left%" y="%row3_input_y%" />
				<text>A backup with that name already exists!</text>
			</object>

			<object type="button" style="main_button_half_height">
				<placement x="%col1_x_left%" y="%row4_y%" />
				<text>Cancel</text>
				<action function="page">restore_confirm</action>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">restore_confirm</action>
			</object>
		</page>

		<page name="restore_confirm">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Restore > Confirm</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%indent%" y="%row1_y%" />
				<text>Name:</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%indent%" y="%row2_y%" />
				<text>%tw_restore_name%</text>
			</object>

			<object type="fill" color="%accent_color%">
				<placement x="%indent%" y="64" w="%content_width%" h="input_line_width" placement="1" />
			</object>

			<object type="button">
				<fill color="%transparent%" />
				<placement x="0" y="%row2_header_y%" w="%screen_width%" h="48" />
				<actions>
					<action function="set">tw_back=restore_confirm</action>
					<action function="set">tw_backup_rename=%tw_restore_name%</action>
					<action function="set">tw_fileexists=0</action>
					<action function="page">renamebackup</action>
				</actions>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%indent%" y="%row3a_y%" />
				<text>Partitions:</text>
			</object>

			<object type="partitionlist" style="partitionlist_summary">
				<placement x="%col1_x_left%" y="%row4a_y%" w="%content_half_width%" h="96" />
				<data name="tw_restore_list" selectedlist="tw_restore_selected" />
				<listtype name="restore" />
			</object>

			<object type="button">
				<fill color="%transparent%" />
				<placement x="0" y="%row3a_y%" w="%screen_half_width%" h="112" />
				<actions>
					<action function="set">tw_back=restore_confirm</action>
					<action function="page">restore_select</action>
				</actions>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%col1_x_right%" y="%row3a_y%" />
				<text>Selected Options:</text>
			</object>

			<object type="text" style="text_m">
				<condition var1="tw_skip_md5_check" var2="1" />
				<placement x="%col1_x_right%" y="%row4a_y%" />
				<text>Enable MD5 verification</text>
			</object>

			<object type="button">
				<fill color="%transparent%" />
				<placement x="%center_x%" y="%row3a_y%" w="%screen_half_width%" h="64" />
				<actions>
					<action function="set">tw_back=restore_confirm</action>
					<action function="page">restore_options</action>
				</actions>
			</object>

			<object type="slider">
				<text>   Restore</text>
				<action function="page">restore_run</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">restore_options</action>
			</object>
		</page>

		<page name="restore_run">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>%tw_operation% %tw_partition%</text>
			</object>

			<object type="template" name="console" />

			<object type="template" name="progress_bar" />

			<object type="text" style="text_m">
				<placement x="%indent%" y="%row14a_y%" />
				<text>%tw_size_progress%</text>
			</object>

			<object type="action">
				<condition var1="tw_operation_state" var2="1" />
				<actions>
					<action function="set">tw_back=restore</action>
					<action function="set">tw_complete_text1=Restore Complete</action>
					<action function="set">tw_show_reboot=1</action>
					<action function="page">action_complete</action>
				</actions>
			</object>

			<object type="action">
				<action function="nandroid">restore</action>
			</object>
		</page>

		<page name="mount">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Mount > %tw_storage_display_name%</text>
			</object>

			<object type="partitionlist" style="partitionlist_headerless_cb">
				<placement x="%col1_x_left%" y="%row2_header_y%" w="%content_width%" h="%partitionlist_wipe_height%" />
				<listtype name="mount" />
			</object>

			<object type="fill" color="%accent_color%">
				<placement x="%col1_x_left%" y="row10a_y" w="%content_width%" h="input_line_width" />
			</object>

			<object type="button" style="checkbox">
				<condition var1="tw_mount_system_ro" op="=" var2="0" />
				<placement x="%col1_x_left%" y="%row11_y%" textplacement="6" />
				<text>Mount System RO</text>
				<image resource="checkbox_false" />
				<action function="mountsystemtoggle">1</action>
			</object>

			<object type="button" style="checkbox">
				<condition var1="tw_mount_system_ro" op="!=" var2="0" />
				<placement x="%col1_x_left%" y="%row11_y%" textplacement="6" />
				<text>Mount System RO</text>
				<image resource="checkbox_true" />
				<actions>
					<action function="set">tw_lifetime_writes=2</action>
					<action function="page">system_readonly_check</action>
				</actions>
			</object>

			<object type="button" style="checkbox">
				<conditions>
					<condition var1="tw_has_mtp" var2="1" />
					<condition var1="tw_mtp_enabled" var2="0" />
				</conditions>
				<placement x="%col1_x_left%" y="%row13_y%" textplacement="6" />
				<image resource="checkbox_false" />
				<text>Enable MTP</text>
				<action function="startmtp"></action>
			</object>

			<object type="button" style="checkbox">
				<conditions>
					<condition var1="tw_has_mtp" var2="1" />
					<condition var1="tw_mtp_enabled" var2="1" />
				</conditions>
				<placement x="%col1_x_left%" y="%row13_y%" textplacement="6" />
				<image resource="checkbox_true" />
				<text>Enable MTP</text>
				<action function="stopmtp"></action>
			</object>

			<object type="button">
				<placement x="%btn4_col3_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_storage" />
				<actions>
					<action function="set">tw_storagetext=Mount > Select Storage</action>
					<action function="set">tw_back=mount</action>
					<action function="page">select_storage</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_right" />
				<action function="page">mount_options</action>
			</object>

			<!--object type="button" style="main_button_half_height">
				<condition var1="tw_has_usb_storage" var2="1" />
				<placement x="%indent%" y="%row18a_y%" />
				<text>Mount USB Storage</text>
				<action function="page">usb_mount</action>
			</object>

			<object type="button" style="main_button_half_height">
				<conditions>
					<condition var1="tw_is_encrypted" var2="1" />
					<condition var1="tw_is_decrypted" var2="0" />
				</conditions>
				<placement x="%center_x%" y="%row18a_y%" />
				<text>Decrypt Data</text>
				<action function="page">decrypt</action>
			</object-->

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>
		</page>

		<page name="mount_options">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Mount > %tw_storage_display_name%</text>
			</object>

			<object type="button" style="main_button_full_width">
				<condition var1="tw_has_usb_storage" var2="1" />
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Mount USB Storage</text>
				<action function="page">usb_mount</action>
			</object>

			<object type="button" style="main_button_full_width">
				<conditions>
					<condition var1="tw_is_encrypted" var2="1" />
					<condition var1="tw_is_decrypted" var2="0" />
				</conditions>
				<placement x="%col1_x_left%" y="%row6_y%" />
				<text>Decrypt Data</text>
				<action function="page">decrypt</action>
			</object>

			<object type="button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_left" />
				<action function="page">mount</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">mount</action>
			</object>
		</page>

		<page name="usb_mount">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Mount > USB Storage</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%center_x%" y="%row1_y%" placement="5" />
				<text>Device mounted as USB Storage</text>
			</object>

			<object type="text" style="text_m_fail">
				<placement x="%center_x%" y="%row3_y%" placement="5" />
				<text>Be sure to safely remove your device</text>
			</object>

			<object type="text" style="text_m_fail">
				<placement x="%center_x%" y="%row4_y%" placement="5" />
				<text>from your computer before unmounting!</text>
			</object>

			<object type="button" style="main_button">
				<placement x="%btn4_col2_x%" y="%row11_y%" />
				<text>Unmount</text>
				<action function="page">usb_umount</action>
			</object>

			<object type="action">
				<action function="mount">usb</action>
				<action function="set">tw_busy=1</action>
			</object>
		</page>

		<page name="usb_umount">
			<object type="action">
				<action function="unmount">usb</action>
			</object>

			<object type="action">
				<action function="page">mount_options</action>
				<action function="set">tw_busy=0</action>
			</object>
		</page>

		<page name="system_readonly_check">
			<object type="action">
				<action function="checkpartitionlifetimewrites">/system</action>
			</object>

			<object type="action">
				<condition var1="tw_lifetime_writes" var2="1" />
				<actions>
					<action function="mountsystemtoggle">0</action>
					<action function="page">mount</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_lifetime_writes" var2="0" />
				<actions>
					<action function="set">tw_back=mount</action>
					<action function="page">system_readonly</action>
				</actions>
			</object>
		</page>

		<page name="reboot">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Reboot Menu</text>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_reboot_system" var2="1" />
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>System</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=system</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=No OS Installed! Are you</action>
					<action function="set">tw_text2=sure you wish to reboot?</action>
					<action function="set">tw_action_text1=Rebooting...</action>
					<action function="set">tw_complete_text1=Rebooting...</action>
					<action function="set">tw_slider_text=Reboot</action>
					<action function="page">rebootcheck</action>
				</actions>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_reboot_poweroff" var2="1" />
				<placement x="%col1_x_right%" y="%row1_y%" />
				<text>Power Off</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=poweroff</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=No OS Installed! Are you</action>
					<action function="set">tw_text2=sure you wish to power off?</action>
					<action function="set">tw_action_text1=Turning Off...</action>
					<action function="set">tw_complete_text1=Turning Off...</action>
					<action function="set">tw_slider_text=Power Off</action>
					<action function="page">rebootcheck</action>
				</actions>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_reboot_recovery" var2="1" />
				<placement x="%col1_x_left%" y="%row6_y%" />
				<text>Recovery</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=recovery</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=No OS Installed! Are you</action>
					<action function="set">tw_text2=sure you wish to reboot?</action>
					<action function="set">tw_action_text1=Rebooting...</action>
					<action function="set">tw_complete_text1=Rebooting...</action>
					<action function="set">tw_slider_text=Reboot</action>
					<action function="page">rebootcheck</action>
				</actions>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_reboot_bootloader" var2="1" />
				<placement x="%col1_x_right%" y="%row6_y%" />
				<text>Bootloader</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=bootloader</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=No OS Installed! Are you</action>
					<action function="set">tw_text2=sure you wish to reboot?</action>
					<action function="set">tw_action_text1=Rebooting...</action>
					<action function="set">tw_complete_text1=Rebooting...</action>
					<action function="set">tw_slider_text=Reboot</action>
					<action function="page">rebootcheck</action>
				</actions>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_download_mode" var2="1" />
				<placement x="%col1_x_left%" y="%row11_y%" />
				<text>Download</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=download</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=No OS Installed! Are you</action>
					<action function="set">tw_text2=sure you wish to reboot?</action>
					<action function="set">tw_action_text1=Rebooting...</action>
					<action function="set">tw_complete_text1=Rebooting...</action>
					<action function="set">tw_slider_text=Reboot</action>
					<action function="page">rebootcheck</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>
		</page>

		<page name="system_readonly">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Unmodified System Partition</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%center_x%" y="%row1_y%" placement="5" />
				<text>TWRP has detected an unmodified system partition</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%center_x%" y="%row2_y%" placement="5" />
				<text>TWRP can leave your system partition unmodified</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%center_x%" y="%row3_y%" placement="5" />
				<text>to make it easier for you to take official updates.</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%center_x%" y="%row4_y%" placement="5" />
				<text>TWRP will be unable to prevent the stock ROM from</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%center_x%" y="%row5_y%" placement="5" />
				<text>replacing TWRP and will not offer to root your device.</text>
			</object>

			<object type="text" style="text_m_fail">
				<placement x="%center_x%" y="%row7_y%" placement="5" />
				<text>Installing zips or performing adb operations may still</text>
			</object>

			<object type="text" style="text_m_fail">
				<placement x="%center_x%" y="%row8_y%" placement="5" />
				<text>modify the system partition.</text>
			</object>

			<object type="checkbox">
				<condition var1="tw_is_encrypted" var2="0" />
				<placement x="%indent%" y="%row10_y%" />
				<text>Never show this screen during boot again</text>
				<data variable="tw_never_show_system_ro_page" />
			</object>

			<object type="button" style="main_button_half_height">
				<placement x="%col1_x_left%" y="%row13_y%" />
				<text>Keep Read Only</text>
				<actions>
					<action function="mountsystemtoggle">1</action>
					<action function="set">tw_page_done=1</action>
					<action function="page">%tw_back%</action>
				</actions>
			</object>

			<object type="button" style="main_button_half_height">
				<placement x="%col1_x_right%" y="%row13_y%" />
				<text>Allow Modifications</text>
				<actions>
					<action function="mountsystemtoggle">0</action>
					<action function="set">tw_page_done=1</action>
					<action function="page">%tw_back%</action>
				</actions>
			</object>
		</page>

		<page name="settings">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Settings</text>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>General</text>
				<action function="page">settings_general</action>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_right%" y="%row1_y%" />
				<text>Time Zone</text>
				<action function="page">settings_timezone</action>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_left%" y="%row6_y%" />
				<text>Screen</text>
				<action function="page">settings_screen</action>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_right%" y="%row6_y%" />
				<text>Vibration</text>
				<action function="page">settings_vibration</action>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<text>Language</text>
				<action function="page">settings_language</action>
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_reset" />
				<action function="restoredefaultsettings"></action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main3</action>
			</object>
		</page>

		<page name="settings_general">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Settings > General</text>
			</object>

			<object type="listbox" style="scrolllist">
				<placement x="%col1_x_left%" y="%row2_header_y%" w="%content_width%" h="%listbox_settings_height%" />
				<listitem name="Zip file signature verification">
					<data variable="tw_signed_zip_verify" />
				</listitem>
				<listitem name="Use rm -rf instead of formatting">
					<data variable="tw_rm_rf" />
				</listitem>
				<listitem name="Skip MD5 generation during backup">
					<data variable="tw_skip_md5_generate" />
				</listitem>
				<listitem name="Enable MD5 verification of backup files">
					<data variable="tw_skip_md5_check" />
				</listitem>
				<listitem name="Use 24-hour clock">
					<data variable="tw_military_time" />
				</listitem>
				<listitem name="Samsung Navbar Layout">
					<data variable="tw_samsung_navbar" />
				</listitem>
				<listitem name="Simulate actions for theme testing">
					<data variable="tw_simulate_actions" />
				</listitem>
				<listitem name="Simulate failure for actions">
					<data variable="tw_simulate_fail" />
					<condition var1="tw_simulate_actions" var2="1" />
				</listitem>
			</object>

			<!--object type="checkbox">
				<placement x="%indent%" y="%row3a_y%" />
				<text>Zip file signature verification</text>
				<data variable="tw_signed_zip_verify" />
			</object>

			<object type="checkbox">
				<placement x="%indent%" y="%row5_y%" />
				<text>Use rm -rf instead of formatting</text>
				<data variable="tw_rm_rf" />
			</object>

			<object type="checkbox">
				<placement x="%indent%" y="%row6a_y%" />
				<text>Skip MD5 generation during backup</text>
				<data variable="tw_skip_md5_generate" />
			</object>

			<object type="checkbox">
				<placement x="%indent%" y="%row8_y%" />
				<text>Enable MD5 verification of backup files</text>
				<data variable="tw_skip_md5_check" />
			</object>

			<object type="checkbox">
				<placement x="%indent%" y="%row9a_y%" />
				<text>Use 24-hour clock</text>
				<data variable="tw_military_time" />
			</object>

			<object type="checkbox">
				<placement x="%indent%" y="%row11_y%" />
				<text>Samsung Navbar Layout</text>
				<data variable="tw_samsung_navbar" />
			</object>

			<object type="checkbox">
				<placement x="%indent%" y="%row12a_y%" />
				<text>Simulate actions for theme testing</text>
				<data variable="tw_simulate_actions" />
			</object>

			<object type="checkbox">
				<condition var1="tw_simulate_actions" var2="1" />
				<placement x="%indent%" y="%row14_y%" />
				<text>Simulate failure for actions</text>
				<data variable="tw_simulate_fail" />
			</object-->

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">settings</action>
			</object>
		</page>

		<page name="settings_timezone">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Settings > Time Zone</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font_m" />
				<placement x="%indent_right%" y="%row1_header_y%" placement="1" />
				<text>%tw_time%</text>
			</object>

			<object type="listbox" style="listbox_headerless">
				<placement x="%col1_x_left%" y="%row2_header_y%" w="%content_width%" h="%listbox_timezone_height%" />
				<data name="tw_time_zone_guisel" />
				<listitem name="(UTC -11) Samoa, Midway Island">BST11;BDT</listitem>
				<listitem name="(UTC -10) Hawaii">HST10;HDT</listitem>
				<listitem name="(UTC -9) Alaska">AST9;ADT</listitem>
				<listitem name="(UTC -8) Pacific Time">PST8;PDT,M3.2.0,M11.1.0</listitem>
				<listitem name="(UTC -7) Mountain Time">MST7;MDT,M3.2.0,M11.1.0</listitem>
				<listitem name="(UTC -6) Central Time">CST6;CDT,M3.2.0,M11.1.0</listitem>
				<listitem name="(UTC -5) Eastern Time">EST5;EDT,M3.2.0,M11.1.0</listitem>
				<listitem name="(UTC -4) Atlantic Time">AST4;ADT</listitem>
				<listitem name="(UTC -3) Brazil, Buenos Aires">GRNLNDST3;GRNLNDDT</listitem>
				<listitem name="(UTC -2) Mid-Atlantic">FALKST2;FALKDT</listitem>
				<listitem name="(UTC -1) Azores, Cape Verde">AZOREST1;AZOREDT</listitem>
				<listitem name="(UTC  0) London, Dublin, Lisbon">GMT0;BST,M3.5.0,M10.5.0</listitem>
				<listitem name="(UTC +1) Berlin, Brussels, Paris">CET-1;CEST,M3.5.0,M10.5.0</listitem>
				<listitem name="(UTC +2) Athens, Istanbul, South Africa">WET-2;WET,M3.5.0,M10.5.0</listitem>
				<listitem name="(UTC +3) Moscow, Baghdad">SAUST-3;SAUDT</listitem>
				<listitem name="(UTC +4) Abu Dhabi, Tbilisi, Muscat">WST-4;WDT</listitem>
				<listitem name="(UTC +5) Yekaterinburg, Islamabad">PAKST-5;PAKDT</listitem>
				<listitem name="(UTC +6) Almaty, Dhaka, Colombo">TASHST-6;TASHDT</listitem>
				<listitem name="(UTC +7) Bangkok, Hanoi, Jakarta">THAIST-7;THAIDT</listitem>
				<listitem name="(UTC +8) Beijing, Singapore, Hong Kong">TAIST-8;TAIDT</listitem>
				<listitem name="(UTC +9) Tokyo, Seoul, Yakutsk">JST-9;JSTDT</listitem>
				<listitem name="(UTC +10) Eastern Australia, Guam">EET-10;EETDT</listitem>
				<listitem name="(UTC +11) Vladivostok, Solomon Islands">MET-11;METDT</listitem>
				<listitem name="(UTC +12) Auckland, Wellington, Fiji">NZST-12;NZDT</listitem>
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_right" />
				<actions>
					<action function="setguitimezone"></action>
					<action function="page">settings_timezone2</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_time_zone_guisel" op="modified" />
				<action function="setguitimezone"></action>
			</object>

			<object type="action">
				<touch key="home" />
				<actions>
					<action function="page">main</action>
					<action function="setguitimezone"></action>
				</actions>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="page">settings</action>
					<action function="setguitimezone"></action>
				</actions>
			</object>

			<object type="action">
				<touch key="power+voldown" />
				<action function="screenshot" />
			</object>
		</page>

		<page name="settings_timezone2">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Settings > Time Zone</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font_m" />
				<placement x="%indent_right%" y="%row1_header_y%" placement="1" />
				<text>%tw_time%</text>
			</object>

			<object type="checkbox">
				<placement x="%col1_x_left%" y="%row1_y%" />
				<font resource="font_m" color="%text_color%" />
				<text>Use daylight savings time (DST)</text>
				<data variable="tw_time_zone_guidst" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%col1_x_left%" y="%row4_y%" />
				<text>Select Offset (usually 0): %tw_time_zone_guioffset%</text>
			</object>

			<object type="button" style="main_button_quarter_width" >
				<placement x="%col1_x_left%" y="%row6_y%" />
				<text>0</text>
				<actions>
					<action function="set">tw_time_zone_guioffset=0</action>
					<action function="setguitimezone"></action>
				</actions>
			</object>

			<object type="button" style="main_button_quarter_width" >
				<placement x="%btn4_col2_x%" y="%row6_y%" />
				<text>15</text>
				<actions>
					<action function="set">tw_time_zone_guioffset=15</action>
					<action function="setguitimezone"></action>
				</actions>
			</object>

			<object type="button" style="main_button_quarter_width" >
				<placement x="%btn4_col3_x%" y="%row6_y%" />
				<text>30</text>
				<actions>
					<action function="set">tw_time_zone_guioffset=30</action>
					<action function="setguitimezone"></action>
				</actions>
			</object>

			<object type="button" style="main_button_quarter_width" >
				<placement x="%btn4_col4_x%" y="%row6_y%" />
				<text>45</text>
				<actions>
					<action function="set">tw_time_zone_guioffset=45</action>
					<action function="setguitimezone"></action>
				</actions>
			</object>

			<object type="button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_left" />
				<actions>
					<action function="setguitimezone"></action>
					<action function="page">settings_timezone</action>
				</actions>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%btn4_col2_x%" y="%row11_y%" />
				<text>Current Time Zone:</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%btn4_col2_x%" y="%row12a_y%" />
				<text>%tw_time_zone%</text>
			</object>

			<object type="action">
				<condition var1="tw_time_zone_guidst" op="modified" />
				<action function="setguitimezone"></action>
			</object>

			<object type="action">
				<touch key="home" />
				<actions>
					<action function="setguitimezone"></action>
					<action function="page">main</action>
				</actions>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="setguitimezone"></action>
					<action function="page">settings_timezone</action>
				</actions>
			</object>
		</page>

		<page name="settings_screen">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Settings > Screen Timeout</text>
			</object>

			<object type="button" style="checkbox">
				<condition var1="tw_screen_timeout_secs" op="=" var2="0" />
				<condition var1="tw_no_screen_timeout" op="!=" var2="1" />
				<placement x="%indent%" y="%row1_y%" textplacement="6" />
				<text>Enable screen timeout</text>
				<image resource="checkbox_false" />
				<action function="set">tw_screen_timeout_secs=60</action>
			</object>

			<object type="button" style="checkbox">
				<condition var1="tw_screen_timeout_secs" op="!=" var2="0" />
				<condition var1="tw_no_screen_timeout" op="!=" var2="1" />
				<placement x="%indent%" y="%row1_y%" textplacement="6" />
				<text>Enable screen timeout</text>
				<image resource="checkbox_true" />
				<action function="set">tw_screen_timeout_secs=0</action>
			</object>

			<object type="slidervalue">
				<condition var1="tw_no_screen_timeout" op="!=" var2="1" />
				<placement x="col1_x_left" y="%row2a_y%" w="%content_width%" />
				<text>Screen timeout in seconds (0=disabled): %tw_screen_timeout_secs%</text>
				<data variable="tw_screen_timeout_secs" min="15" max="300" />
			</object>

			<object type="text" style="text_m_fail">
				<condition var1="tw_no_screen_timeout" op="=" var2="1" />
				<placement x="%center_x%" y="%row1_y%" placement="5" />
				<text>Screen timeout setting unavailable</text>
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_right" />
				<action function="page">settings_screen2</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">settings</action>
			</object>
		</page>

		<page name="settings_screen2">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Settings > Screen Brightness</text>
			</object>

			<object type="slidervalue">
				<condition var1="tw_has_brightnesss_file" var2="1" />
				<placement x="col1_x_left" y="%row1_y%" w="%content_width%" />
				<text>Brightness: %tw_brightness_pct%%</text>
				<data variable="tw_brightness_pct" min="10" max="100" />
				<actions>
					<action function="set">tw_brightness=%tw_brightness_max%</action>
					<action function="compute">tw_brightness*%tw_brightness_pct%</action>
					<action function="compute">tw_brightness/100</action>
					<action function="setbrightness">%tw_brightness%</action>
				</actions>
			</object>

			<object type="text" style="text_m_fail">
				<condition var1="tw_has_brightnesss_file" var2="0" />
				<placement x="%center_x%" y="%row1_y%" placement="5" />
				<text>Brightness setting unavailable</text>
			</object>

			<object type="button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_left" />
				<action function="page">settings_screen</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">settings</action>
			</object>
		</page>

		<page name="settings_vibration">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Settings > Vibration - Button Vibration</text>
			</object>

			<object type="slidervalue">
				<placement x="col1_x_left" y="%row1_y%" w="%content_width%" />
				<text>Button Vibration:</text>
				<data variable="tw_button_vibrate" min="0" max="300" />
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_right" />
				<action function="page">settings_vibration2</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">settings</action>
			</object>
		</page>

		<page name="settings_vibration2">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Settings > Vibration - Keyboard Vibration</text>
			</object>

			<object type="slidervalue">
				<placement x="col1_x_left" y="%row1_y%" w="%content_width%" />
				<text>Keyboard Vibration:</text>
				<data variable="tw_keyboard_vibrate" min="0" max="300" />
			</object>

			<object type="button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_left" />
				<action function="page">settings_vibration</action>
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_right" />
				<action function="page">settings_vibration3</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">settings</action>
			</object>
		</page>

		<page name="settings_vibration3">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Settings > Vibration - Action Vibration</text>
			</object>

			<object type="slidervalue">
				<placement x="col1_x_left" y="%row1_y%" w="%content_width%" />
				<text>Action Vibration:</text>
				<data variable="tw_action_vibrate" min="0" max="500" />
			</object>

			<object type="button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_left" />
				<action function="page">settings_vibration2</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">settings</action>
			</object>
		</page>

		<page name="advanced">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Advanced</text>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Terminal</text>
				<action function="page">terminalfolder</action>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_right%" y="%row1_y%" />
				<text>Fix Perms</text>
				<action function="page">fixperms</action>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_left%" y="%row6_y%" />
				<text>Reload Theme</text>
				<action function="reload"></action>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_allow_partition_sdcard" var2="1" />
				<placement x="%col1_x_right%" y="%row6_y%" />
				<text>SD Card</text>
				<action function="page">partsdcard</action>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_show_dumlock" var2="1" />
				<placement x="%col1_x_left%" y="%row11_y%" />
				<text>HTC Dumlock</text>
				<action function="page">htcdumlock</action>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_has_injecttwrp" var2="1" />
				<placement x="%col1_x_right%" y="%row11_y%" />
				<text>Inject TWRP</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_action=reinjecttwrp</action>
					<action function="set">tw_text1=Re-Inject TWRP?</action>
					<action function="set">tw_action_text1=Re-Injecting TWRP...</action>
					<action function="set">tw_complete_text1=TWRP Injection Complete</action>
					<action function="set">tw_slider_text=   Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main3</action>
			</object>
		</page>

		<page name="partsdcard">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Advanced > Partition SD Card</text>
			</object>

			<object type="text" style="text_m_fail">
				<placement x="%center_x%" y="%row1_y%" placement="5" />
				<text>You will lose all files on your SD card!</text>
			</object>

			<object type="text" style="text_m_fail">
				<placement x="%center_x%" y="%row2_y%" placement="5" />
				<text>This action cannot be undone!</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%center_x%" y="%row4_y%" placement="5" />
				<text>EXT Size:</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%center_x%" y="%row6a_y%" placement="5" />
				<text>%tw_sdext_size%</text>
			</object>

			<object type="button" style="main_button_quarter_width" >
				<placement x="%indent%" y="%row6_y%" />
				<text>-</text>
				<action function="addsubtract">tw_sdext_size-128</action>
			</object>

			<object type="button" style="main_button_quarter_width" >
				<placement x="%btn4_col4_x%" y="%row6_y%" />
				<text>+</text>
				<action function="addsubtract">tw_sdext_size+128</action>
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_right" />
				<action function="page">partsdcard2</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>
		</page>

		<page name="partsdcard2">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Advanced > Partition SD Card</text>
			</object>

			<object type="text" style="text_m_fail">
				<placement x="%center_x%" y="%row1_y%" placement="5" />
				<text>You will lose all files on your SD card!</text>
			</object>

			<object type="text" style="text_m_fail">
				<placement x="%center_x%" y="%row2_y%" placement="5" />
				<text>This action cannot be undone!</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%center_x%" y="%row4_y%" placement="5" />
				<text>Swap Size:</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%center_x%" y="%row6a_y%" placement="5" />
				<text>%tw_swap_size%</text>
			</object>

			<object type="button" style="main_button_quarter_width" >
				<placement x="%indent%" y="%row6_y%" />
				<text>-</text>
				<action function="addsubtract">tw_swap_size-32</action>
			</object>

			<object type="button" style="main_button_quarter_width" >
				<placement x="%btn4_col4_x%" y="%row6_y%" />
				<text>+</text>
				<action function="addsubtract">tw_swap_size+32</action>
			</object>

			<object type="button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_left" />
				<action function="page">partsdcard</action>
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_right" />
				<action function="page">partsdcard3</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>
		</page>

		<page name="partsdcard3">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Advanced > Partition SD Card</text>
			</object>

			<object type="text" style="text_m_fail">
				<placement x="%center_x%" y="%row1_y%" placement="5" />
				<text>You will lose all files on your SD card!</text>
			</object>

			<object type="text" style="text_m_fail">
				<placement x="%center_x%" y="%row2_y%" placement="5" />
				<text>This action cannot be undone!</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%center_x%" y="%row4_y%" placement="5" />
				<text>File System:</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%center_x%" y="%row6a_y%" placement="5" />
				<text>%tw_sdpart_file_system%</text>
			</object>

			<object type="button" style="main_button_quarter_width" >
				<placement x="%indent%" y="%row6_y%" />
				<text>EXT3</text>
				<action function="set">tw_sdpart_file_system=ext3</action>
			</object>

			<object type="button" style="main_button_quarter_width" >
				<placement x="%btn4_col4_x%" y="%row6_y%" />
				<text>EXT4</text>
				<action function="set">tw_sdpart_file_system=ext4</action>
			</object>

			<object type="button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_left" />
				<action function="page">partsdcard2</action>
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_arrow_right" />
				<action function="page">partsdcard_confirm</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>
		</page>

		<page name="partsdcard_confirm">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Advanced > Partition SD Card</text>
			</object>

			<object type="text" style="text_m_fail">
				<placement x="%center_x%" y="%row1_y%" placement="5" />
				<text>You will lose all files on your SD card!</text>
			</object>

			<object type="text" style="text_m_fail">
				<placement x="%center_x%" y="%row2_y%" placement="5" />
				<text>This action cannot be undone!</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%center_x%" y="%row4_y%" placement="5" />
				<text>EXT Size: %tw_sdext_size%</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%center_x%" y="%row6_y%" placement="5" />
				<text>Swap Size: %tw_swap_size%</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%center_x%" y="%row8_y%" placement="5" />
				<text>File System: %tw_sdpart_file_system%</text>
			</object>

			<object type="slider">
				<text>Partition</text>
				<action function="page">partsdcardaction</action>
				<actions>
					<action function="set">tw_back=partsdcard</action>
					<action function="set">tw_action=partitionsd</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=set</action>
					<action function="set">tw_action2_param=tw_zip_location=/sdcard</action>
					<action function="set">tw_action_text1=Partitioning SD Card...</action>
					<action function="set">tw_action_text2=This will take a few minutes.</action>
					<action function="set">tw_complete_text1=Partitioning Complete</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>
		</page>

		<page name="htcdumlock">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Advanced > HTC Dumlock</text>
			</object>

			<object type="button" style="main_button_full_width">
				<placement x="%indent%" y="%row1_y%" />
				<text>Restore Original Boot</text>
				<actions>
					<action function="set">tw_back=htcdumlock</action>
					<action function="set">tw_action=htcdumlockrestoreboot</action>
					<action function="set">tw_text1=Restore original boot image?</action>
					<action function="set">tw_action_text1=Restoring Original Boot...</action>
					<action function="set">tw_complete_text1=Restore Original Boot Complete</action>
					<action function="set">tw_slider_text=   Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button" style="main_button_full_width">
				<placement x="%indent%" y="%row6_y%" />
				<text>Reflash Recovery</text>
				<actions>
					<action function="set">tw_back=htcdumlock</action>
					<action function="set">tw_action=htcdumlockreflashrecovery</action>
					<action function="set">tw_text1=Reflash recovery to boot?</action>
					<action function="set">tw_action_text1=Flashing recovery to boot...</action>
					<action function="set">tw_complete_text1=Recovery Flash to Boot Complete</action>
					<action function="set">tw_slider_text=   Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button" style="main_button_full_width">
				<placement x="%indent%" y="%row11_y%" />
				<text>Install HTC Dumlock</text>
				<actions>
					<action function="set">tw_back=htcdumlock</action>
					<action function="set">tw_action=installhtcdumlock</action>
					<action function="set">tw_text1=Install HTC dumlock files to ROM?</action>
					<action function="set">tw_action_text1=Installing HTC Dumlock...</action>
					<action function="set">tw_complete_text1=HTC Dumlock Install Complete</action>
					<action function="set">tw_slider_text=   Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>
		</page>

		<page name="lock">
			<background color="%semi_transparent%" />

			<object type="image">
				<image resource="unlock_icon" />
				<placement x="%center_x%" y="%row6_y%" placement="4" />
			</object>

			<object type="slider">
				<text>   Unlock</text>
				<action function="overlay"></action>
			</object>
		</page>

		<page name="filemanagerlist">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>File Manager > Select File or Folder</text>
			</object>

			<object type="fileselector">
				<placement x="%col1_x_left%" y="%row2_header_y%" w="%content_width%" h="%fileselector_filemanager_height%" />
				<text>%tw_file_location1%</text>
				<filter folders="1" files="1" />
				<path name="tw_file_location1" default="/" />
				<data name="tw_filename1" />
				<selection name="tw_selection1" />
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_folder" />
				<actions>
					<action function="set">tw_filename1=tw_file_location1</action>
					<action function="set">tw_fm_isfolder=1</action>
					<action function="set">tw_fm_type=Folder</action>
					<action function="page">filemanageroptions</action>
				</actions>
			</object>

			<object type="action">
				<actions>
					<action function="set">tw_fm_type=File</action>
					<action function="set">tw_fm_isfolder=0</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main3</action>
			</object>

			<object type="action">
				<condition var1="tw_filename1" op="modified" />
				<action function="page">filemanageroptions</action>
			</object>
		</page>

		<page name="filemanageroptions">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>%tw_fm_type%: %tw_filename1%</text>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_fm_isfolder" var2="0" />
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Copy</text>
				<actions>
					<action function="set">tw_filemanager_command=cp</action>
					<action function="set">tw_fm_text1=Copying</action>
					<action function="page">choosedestinationfolder</action>
				</actions>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_fm_isfolder" var2="1" />
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Copy</text>
				<actions>
					<action function="set">tw_filemanager_command=cd &quot;%tw_file_location1%&quot; &amp;&amp; cd .. &amp;&amp; cp -R</action>
					<action function="set">tw_fm_text1=Copying</action>
					<action function="page">choosedestinationfolder</action>
				</actions>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_right%" y="%row1_y%" />
				<text>Move</text>
				<actions>
					<action function="set">tw_filemanager_command=mv</action>
					<action function="set">tw_fm_text1=Moving</action>
					<action function="page">choosedestinationfolder</action>
				</actions>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_left%" y="%row6_y%" />
				<text>chmod 755</text>
				<actions>
					<action function="set">tw_filemanager_command=chmod 755</action>
					<action function="set">tw_fm_text1=chmod 755</action>
					<action function="set">tw_fm_text2=</action>
					<action function="set">tw_fm_text3=</action>
					<action function="set">tw_include_text3=0</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_right%" y="%row6_y%" />
				<text>chmod</text>
				<actions>
					<action function="set">tw_filemanager_rename=0000</action>
					<action function="set">tw_fm_text2=</action>
					<action function="set">tw_fm_text3=</action>
					<action function="set">tw_include_text3=0</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerchmod</action>
				</actions>
			</object>

			<object type="button" style="main_button">
				<placement x="%col1_x_left%" y="%row11_y%" />
				<text>Delete</text>
				<actions>
					<action function="set">tw_filemanager_command=rm -rf</action>
					<action function="set">tw_fm_text1=Deleting</action>
					<action function="set">tw_fm_text2=</action>
					<action function="set">tw_fm_text3=</action>
					<action function="set">tw_include_text3=0</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_fm_isfolder" var2="0" />
				<placement x="%col1_x_right%" y="%row11_y%" />
				<text>Rename</text>
				<actions>
					<action function="set">tw_filemanager_rename=tw_selection1</action>
					<action function="set">tw_fm_text1=Renaming</action>
					<action function="set">tw_filemanager_command=mv</action>
					<action function="page">filemanagerrenamefile</action>
				</actions>
			</object>

			<object type="button" style="main_button">
				<condition var1="tw_fm_isfolder" var2="1" />
				<placement x="%col1_x_right%" y="%row11_y%" />
				<text>Rename</text>
				<actions>
					<action function="set">tw_filemanager_rename=tw_selection1</action>
					<action function="set">tw_fm_text1=Renaming</action>
					<action function="set">tw_filemanager_command=cd &quot;%tw_file_location1%&quot; &amp;&amp; cd .. &amp;&amp; mv</action>
					<action function="page">filemanagerrenamefolder</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">filemanagerlist</action>
			</object>
		</page>

		<page name="choosedestinationfolder">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>File Manager > Select Destination Folder</text>
			</object>

			<object type="fileselector">
				<placement x="%col1_x_left%" y="%row2_header_y%" w="%content_width%" h="%fileselector_filemanager_height%" />
				<text>%tw_file_location2%</text>
				<filter folders="1" files="0" />
				<path name="tw_file_location2" default="/" />
				<data name="tw_filename2" />
				<selection name="tw_selection2" />
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_folder" />
				<actions>
					<action function="set">tw_fm_text2=to</action>
					<action function="set">tw_fm_text3=%tw_file_location2%</action>
					<action function="set">tw_include_text3=1</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">filemanageroptions</action>
			</object>
		</page>

		<page name="filemanagerrenamefile">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>File Manager > Rename %tw_fm_type%</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Name:</text>
			</object>

			<object type="input">
				<placement x="%col1_x_left%" y="%row2_y%" w="%content_width%" h="%input_height%" />
				<text>%tw_filemanager_rename%</text>
				<data name="tw_filemanager_rename" />
				<restrict minlen="1" maxlen="128" />
				<actions>
					<action function="set">tw_fm_text2=to</action>
					<action function="set">tw_fm_text3=&quot;%tw_file_location1%/%tw_filemanager_rename%&quot;</action>
					<action function="set">tw_include_text3=1</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</object>

			<object type="fill" color="%accent_color%">
				<placement x="%col1_x_left%" y="%row3_input_y%" w="%content_width%" h="%input_line_width%" placement="1" />
			</object>

			<object type="button" style="main_button_half_height">
				<placement x="%col1_x_left%" y="%row4_y%" />
				<text>Cancel</text>
				<action function="page">filemanageroptions</action>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">filemanageroptions</action>
			</object>
		</page>

		<page name="filemanagerrenamefolder">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>File Manager > Rename %tw_fm_type%</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Name:</text>
			</object>

			<object type="input">
				<placement x="%col1_x_left%" y="%row2_y%" w="%content_width%" h="%input_height%" />
				<text>%tw_filemanager_rename%</text>
				<data name="tw_filemanager_rename" />
				<restrict minlen="1" maxlen="128" />
				<actions>
					<action function="set">tw_fm_text2=to</action>
					<action function="set">tw_fm_text3=%tw_filemanager_rename%</action>
					<action function="set">tw_include_text3=1</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</object>

			<object type="fill" color="%accent_color%">
				<placement x="%col1_x_left%" y="row4_y" w="%content_width%" h="input_line_width" placement="1" />
			</object>

			<object type="button" style="main_button_half_height">
				<placement x="%col1_x_left%" y="%row4_y%" />
				<text>Cancel</text>
				<action function="page">filemanageroptions</action>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">filemanageroptions</action>
			</object>
		</page>

		<page name="filemanagerchmod">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>File Manager > Set Permissions</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Permissions:</text>
			</object>

			<object type="input">
				<placement x="%col1_x_left%" y="%row2_y%" w="%content_width%" h="%input_height%" />
				<text>%tw_filemanager_rename%</text>
				<data name="tw_filemanager_rename" />
				<restrict minlen="3" maxlen="4" allow="0123456789" />
				<actions>
					<action function="set">tw_filemanager_command=chmod %tw_filemanager_rename%</action>
					<action function="set">tw_fm_text1=chmod %tw_filemanager_rename%</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</object>

			<object type="fill" color="%accent_color%">
				<placement x="%col1_x_left%" y="row4_y" w="%content_width%" h="input_line_width" placement="1" />
			</object>

			<object type="button" style="main_button_half_height">
				<placement x="%col1_x_left%" y="%row4_y%" />
				<text>Cancel</text>
				<action function="page">filemanageroptions</action>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">filemanageroptions</action>
			</object>
		</page>

		<page name="filemanagerconfirm">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>File Manager > Confirm Action</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%center_x%" y="%row2_y%" placement="5" />
				<text>%tw_fm_text1%</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%center_x%" y="%row3_y%" placement="5" />
				<text>%tw_filename1%</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%center_x%" y="%row5_y%" placement="5" />
				<text>%tw_fm_text2%</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%center_x%" y="%row6_y%" placement="5" />
				<text>%tw_fm_text3%</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%center_x%" y="%row8_y%" placement="5" />
				<text>Press back button to cancel.</text>
			</object>

			<object type="slider">
				<text>Confirm</text>
				<action function="page">filemanageraction</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">%tw_back%</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>
		</page>

		<page name="filemanageraction">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>File Manager > %tw_fm_text1%</text>
			</object>

			<object type="template" name="console" />

			<object type="template" name="progress_bar" />

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_back=filemanagerlist</action>
					<action function="set">tw_complete_text1=File Operation Complete</action>
					<action function="page">action_complete</action>
				</actions>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" op="!=" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_complete_text1=File Operation Complete</action>
					<action function="page">action_complete</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_include_text3" var2="0" />
				<action function="cmd">%tw_filemanager_command% &quot;%tw_filename1%&quot;</action>
			</object>

			<object type="action">
				<condition var1="tw_include_text3" var2="1" />
				<action function="cmd">%tw_filemanager_command% &quot;%tw_filename1%&quot; &quot;%tw_fm_text3%&quot;</action>
			</object>
		</page>

		<page name="decrypt">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="action">
				<condition var1="tw_crypto_pwtype" var2="2" />
				<action function="page">decrypt_pattern</action>
			</object>

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Mount > Decrypt Data</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%col1_x_left%" y="%row1_y%" />
				<text>Enter Password:</text>
			</object>

			<object type="input">
				<placement x="%col1_x_left%" y="%row2_y%" w="%content_width%" h="%input_height%" />
				<text>%tw_crypto_display%</text>
				<data name="tw_crypto_password" mask="*" maskvariable="tw_crypto_display" />
				<restrict minlen="1" maxlen="254" />
				<action function="page">trydecrypt</action>
			</object>

			<object type="fill" color="%accent_color%">
				<placement x="%col1_x_left%" y="row3_input_y" w="%content_width%" h="input_line_width" placement="1" />
			</object>

			<object type="fill" color="%text_fail_color%">
				<condition var1="tw_password_fail" var2="1" />
				<placement x="%col1_x_left%" y="row3_input_y" w="%content_width%" h="input_line_width" placement="1" />
			</object>

			<object type="text" style="text_m_fail">
				<condition var1="tw_password_fail" var2="1" />
				<placement x="%col1_x_left%" y="%row3_input_y%" />
				<text>Password failed, please try again!</text>
			</object>

			<object type="button" style="main_button_half_height">
				<placement x="%col1_x_right%" y="%row4_y%" />
				<text>Cancel</text>
				<actions>
					<action function="set">tw_page_done=1</action>
					<action function="page">main</action>
				</actions>
			</object>

			<object type="template" name="keyboardtemplate" />
		</page>

		<page name="decrypt_pattern">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Mount > Decrypt Data</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%center_x%" y="%row5_y%" placement="5" />
				<text>Enter Pattern.</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%center_x%" y="%row10_y%" placement="5" />
				<text>Press back to cancel.</text>
			</object>

			<object type="patternpassword">
				<placement x="%pattern_x%" y="%row2_y%" w="%pattern_size%" h="%pattern_size%" />
				<dot color="%fileselector_linecolor%" activecolor="%accent_color%" radius="%pattern_dot_dia%" />
				<line color="%fileselector_linecolor%" width="%pattern_line_w%" />
				<data name="tw_crypto_password"/>
				<action function="page">trydecrypt</action>
			</object>

			<object type="fill" color="#000000">
				<placement x="0" y="%navbar_y%" w="%screen_width%" h="%navbar_height%" />
			</object>

			<object type="button">
				<placement x="%back_button_x%" y="%navbar_btn_y%" placement="4" />
				<image resource="back" />
				<condition var1="tw_busy" var2="0" />
				<actions>
					<action function="set">tw_page_done=1</action>
					<action function="page">main</action>
				</actions>
			</object>
		</page>

		<page name="trydecrypt">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Mount > Trying Decryption</text>
			</object>

			<object type="template" name="console" />

			<object type="template" name="progress_bar" />

			<object type="action">
				<action function="decrypt"></action>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" op="!=" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_password_fail=1</action>
					<action function="page">decrypt</action>
				</actions>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" op="=" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_page_done=1</action>
					<action function="page">main</action>
				</actions>
			</object>
		</page>

		<page name="terminalfolder">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Terminal > Select Starting Folder</text>
			</object>

			<object type="fileselector">
				<placement x="%col1_x_left%" y="%row2_header_y%" w="%content_width%" h="%fileselector_install_height%" />
				<text>%tw_terminal_location%</text>
				<filter folders="1" files="0" />
				<path name="tw_terminal_location" default="/" />
				<data name="tw_terminal" />
				<selection name="tw_terminal_selection" />
			</object>

			<object type="button">
				<placement x="%btn4_col4_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_accept_transp" />
				<action function="page">terminalcommand</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>
		</page>

		<page name="terminalcommand">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Terminal > %tw_terminal_location%</text>
			</object>

			<object type="template" name="console_terminal" />

			<object type="input">
				<placement x="%col1_x_left%" y="%row5a_y%" w="%input_line_console%" h="%input_height%" />
				<text>%tw_terminal_command%</text>
				<data name="tw_terminal_command" />
				<restrict minlen="1" />
				<action function="terminalcommand">%tw_terminal_command%</action>
			</object>

			<object type="fill" color="%accent_color%">
				<placement x="%col1_x_left%" y="row6a_input_y" w="%input_line_console%" h="input_line_width" placement="1" />
			</object>

			<object type="button">
				<condition var1="tw_terminal_state" var2="1" />
				<highlight color="%highlight_color%" />
				<placement x="%close_btn_x%" y="%row5_y%" />
				<font resource="font_m" color="%text_button_color%" />
				<image resource="close" />
				<action function="killterminal"></action>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">terminalfolder</action>
			</object>
		</page>

		<page name="sideload">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Install > ADB Sideload</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%indent%" y="%row1_y%" />
				<text>Options:</text>
			</object>

			<object type="checkbox">
				<placement x="%indent%" y="%row2_y%" />
				<text>Wipe Dalvik Cache</text>
				<data variable="tw_wipe_dalvik" />
			</object>

			<object type="checkbox">
				<placement x="%indent%" y="%row4a_y%" />
				<text>Wipe Cache</text>
				<data variable="tw_wipe_cache" />
			</object>

			<object type="slider">
				<text>   Start</text>
				<action function="page">partsdcardaction</action>
				<actions>
					<action function="set">tw_back=install_type</action>
					<action function="set">tw_action=adbsideload</action>
					<action function="set">tw_action_text1=ADB Sideload</action>
					<action function="set">tw_action_text2=Usage: adb sideload filename.zip</action>
					<action function="set">tw_complete_text1=ADB Sideload Complete</action>
					<action function="set">tw_has_cancel=1</action>
					<action function="set">tw_show_reboot=1</action>
					<action function="set">tw_cancel_action=adbsideloadcancel</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">install_type</action>
			</object>
		</page>

		<page name="fixperms">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Advanced > Fix Permissions</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%center_x%" y="%row2_y%" placement="5" />
				<text>Note: Fixing permissions is rarely needed.</text>
			</object>

			<object type="checkbox">
				<placement x="%indent%" y="%row4_y%" />
				<text>Also fix SELinux Contexts</text>
				<data variable="tw_fixperms_restorecon" />
			</object>

			<object type="text" style="text_m_fail">
				<placement x="%center_x%" y="%row6a_y%" placement="5" />
				<text>Fixing SELinux Contexts may cause</text>
			</object>

			<object type="text" style="text_m_fail">
				<placement x="%center_x%" y="%row7a_y%" placement="5" />
				<text>your device to not boot properly.</text>
			</object>

			<object type="slider">
				<text>   Fix Perms</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_action=fixpermissions</action>
					<action function="set">tw_action_text1=Fixing Permissions...</action>
					<action function="set">tw_complete_text1=Fix Permissions Complete</action>
					<action function="set">tw_slider_text=   Confirm</action>
					<action function="set">tw_show_reboot=1</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>
		</page>

		<page name="installsu">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>Reboot > SuperSU Check</text>
			</object>

			<object type="text" style="text_m_accent">
				<placement x="%center_x%" y="%row2_y%" placement="5" />
				<text>Your device does not appear to be rooted.</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%center_x%" y="%row4_y%" placement="5" />
				<text>Install SuperSU now?</text>
			</object>

			<object type="text" style="text_m">
				<placement x="%center_x%" y="%row5_y%" placement="5" />
				<text>This will root your device.</text>
			</object>

			<object type="button" style="main_button_full_width">
				<placement x="%indent%" y="%row6_y%" />
				<text>Do not Install</text>
				<action function="set">tw_page_done=1</action>
			</object>

			<object type="slider">
				<text>   Install</text>
				<actions>
					<action function="set">tw_action=installsu</action>
					<action function="set">tw_action_text1=Installing SuperSU</action>
					<action function="set">tw_action_text2=</action>
					<action function="page">singleaction_page</action>
				</actions>
			</object>
		</page>

		<page name="slideout">
			<object type="fill" color="%background_color%" >
				<placement x="0" y="%row2_header_y%" w="%screen_width%" h="%slideout_bg_height%" />
			</object>

			<object type="console">
				<placement x="%indent%" y="%row1_y%" w="%content_width%" h="%slideout_height%" />
			</object>

			<object type="fill" color="%fileselector_linecolor%">
				<placement x="%indent%" y="row1_y" w="%content_width%" h="input_line_width" placement="1" />
			</object>

			<object type="fill" color="%fileselector_linecolor%">
				<placement x="%indent%" y="row15a_y" w="%content_width%" h="input_line_width" />
			</object>

			<object type="button">
				<fill color="%transparent%" />
				<placement x="0" y="%navbar_y%" w="%screen_width%" h="%navbar_height%" />
				<action function="overlay"></action>
			</object>

			<object type="action">
				<touch key="power+voldown" />
				<action function="screenshot" />
			</object>
		</page>

		<page name="select_storage">
			<object type="template" name="page" />

			<object type="template" name="statusbar" />

			<object type="text" style="text_m">
				<placement x="%col1_x_left%" y="%row1_header_y%" />
				<text>%tw_storagetext%</text>
			</object>

			<object type="partitionlist" style="partitionlist_headerless_rb">
				<data name="tw_storage_path" />
				<listtype name="storage" />
			</object>

			<object type="button">
				<placement x="%btn4_col2_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_refresh" />
				<actions>
					<action function="refreshsizes"></action>
					<action function="page">select_storage</action>
				</actions>
			</object>

			<object type="button">
				<placement x="%btn4_col3_x%" y="%row11_y%" />
				<highlight color="%highlight_color%" />
				<image resource="q_btn_accept" />
				<actions>
					<action function="set">tw_clear_destination=%tw_back%</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>

			<object type="action">
				<touch key="power+voldown" />
				<action function="screenshot" />
			</object>
		</page>
	</pages>
</recovery>
