{
  "comments": [
    {
      "key": {
        "uuid": "78209991_ec585800",
        "filename": "partition.cpp",
        "patchSetId": 34
      },
      "lineNbr": 1663,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-02-08T17:28:16Z",
      "side": 1,
      "message": "Is there a reason to use a pointer? If you can avoid using a pointer, you won\u0027t have to delete it in all of the places later.",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_0c6394aa",
        "filename": "partition.cpp",
        "patchSetId": 34
      },
      "lineNbr": 1663,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2017-02-08T17:48:50Z",
      "side": 1,
      "message": "I agree, I will do this for the next commit.",
      "parentUuid": "78209991_ec585800",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_6c1e8811",
        "filename": "partition.cpp",
        "patchSetId": 34
      },
      "lineNbr": 1663,
      "author": {
        "id": 1001798
      },
      "writtenOn": "2017-02-08T18:54:21Z",
      "side": 1,
      "message": "Yes, because the actual class depends on the existing digest file. For deleting stuff at the end, one usually uses std::unique_ptr (or auto_ptr), but both might not exist in ancient STLPort... But with proper ordering of things, one can minimize the block where the digest object needs to exist.",
      "parentUuid": "78209991_ec585800",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_8cb684ea",
        "filename": "partition.cpp",
        "patchSetId": 34
      },
      "lineNbr": 1663,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2017-02-11T00:47:26Z",
      "side": 1,
      "message": "I will move it down then into the corresponding functions I will create.",
      "parentUuid": "78209991_6c1e8811",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_4c1bcc1e",
        "filename": "partition.cpp",
        "patchSetId": 34
      },
      "lineNbr": 1694,
      "author": {
        "id": 1001798
      },
      "writtenOn": "2017-02-08T18:54:21Z",
      "side": 1,
      "message": "The old error handling here was better, this is a regression.",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_0c4cb444",
        "filename": "partition.cpp",
        "patchSetId": 34
      },
      "lineNbr": 1695,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-02-08T17:28:16Z",
      "side": 1,
      "message": "delete digest;",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_2c4f703d",
        "filename": "partition.cpp",
        "patchSetId": 34
      },
      "lineNbr": 1701,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-02-08T17:28:16Z",
      "side": 1,
      "message": "delete digest;",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_8c40c40d",
        "filename": "partitionmanager.cpp",
        "patchSetId": 34
      },
      "lineNbr": 526,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-02-08T17:28:16Z",
      "side": 1,
      "message": "Should probably move this declaration inside the if statement where you are using this variable since you only use it inside the first big if-block.",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_ec03b8c2",
        "filename": "partitionmanager.cpp",
        "patchSetId": 34
      },
      "lineNbr": 526,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2017-02-08T17:48:50Z",
      "side": 1,
      "message": "I will change to a non-pointer and move to if statement.",
      "parentUuid": "78209991_8c40c40d",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_4c42ac14",
        "filename": "partitionmanager.cpp",
        "patchSetId": 34
      },
      "lineNbr": 537,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-02-08T17:28:16Z",
      "side": 1,
      "message": "At a glance it looks like we\u0027re repeating a lot of this code, so it should be placed in a separate function to reduce code size and future maintenance. This change will also fix up some of your variable declarations by moving them inside the new function.",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_cc08fce1",
        "filename": "partitionmanager.cpp",
        "patchSetId": 34
      },
      "lineNbr": 537,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2017-02-08T17:48:50Z",
      "side": 1,
      "message": "I can separate into 2 functions:\n\ncreate_sha2_digest()\ncreate_md5_digest()\nbased on use_sha2",
      "parentUuid": "78209991_4c42ac14",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_6c45681b",
        "filename": "partitionmanager.cpp",
        "patchSetId": 34
      },
      "lineNbr": 564,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-02-08T17:28:16Z",
      "side": 1,
      "message": "You can probably move these declarations inside the if-block where they are used.",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_ac24a05e",
        "filename": "partitionmanager.cpp",
        "patchSetId": 34
      },
      "lineNbr": 775,
      "author": {
        "id": 1001798
      },
      "writtenOn": "2017-02-08T18:54:21Z",
      "side": 1,
      "message": "not a new bug, but the name of the variable is wrong, it\u0027s actually skip_digest.",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_8c29e437",
        "filename": "partitionmanager.cpp",
        "patchSetId": 34
      },
      "lineNbr": 1013,
      "author": {
        "id": 1001798
      },
      "writtenOn": "2017-02-08T18:54:21Z",
      "side": 1,
      "message": "Also not a new bug: check_digest is initialized with skip_digest, but then used as if it really was check_digest. This looks wrong.",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_cc5d9cef",
        "filename": "twrp-functions.cpp",
        "patchSetId": 34
      },
      "lineNbr": 1097,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-02-08T17:28:16Z",
      "side": 1,
      "message": "Unnecessary else block",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_8c12040a",
        "filename": "twrp-functions.cpp",
        "patchSetId": 34
      },
      "lineNbr": 1097,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2017-02-08T17:48:50Z",
      "side": 1,
      "message": "will remove.",
      "parentUuid": "78209991_cc5d9cef",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_afd01254",
        "filename": "twrp-functions.cpp",
        "patchSetId": 34
      },
      "lineNbr": 1097,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2017-02-11T00:47:26Z",
      "side": 1,
      "message": "Removing this will not work if the function fails to find a number.",
      "parentUuid": "78209991_8c12040a",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_2fc40295",
        "filename": "twrp-functions.cpp",
        "patchSetId": 34
      },
      "lineNbr": 1097,
      "author": {
        "id": 1001858
      },
      "writtenOn": "2017-02-11T03:53:03Z",
      "side": 1,
      "message": "If the if returns false, the function would continue to the \u0027return false\u0027, even without the else.  I\u0027m not sure how the else would be necessary.",
      "parentUuid": "78209991_afd01254",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_8c57a4cb",
        "filename": "twrpDigest/Android.mk",
        "patchSetId": 34
      },
      "lineNbr": 13,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-02-08T17:28:16Z",
      "side": 1,
      "message": "Do we want to include libcrypto in all builds?",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_6cf7a8cf",
        "filename": "twrpDigest/Android.mk",
        "patchSetId": 34
      },
      "lineNbr": 13,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2017-02-08T17:48:50Z",
      "side": 1,
      "message": "Thanks for the catch, I will wrap this in the ifdef check for TW_USE_CRYPTO.",
      "parentUuid": "78209991_8c57a4cb",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_4ce62c15",
        "filename": "twrpDigest/twrpDigest.cpp",
        "patchSetId": 34
      },
      "lineNbr": 22,
      "author": {
        "id": 1001798
      },
      "writtenOn": "2017-02-08T18:54:21Z",
      "side": 1,
      "message": "Do we really need all these headers?",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_4c698c8a",
        "filename": "twrpDigest/twrpDigest.cpp",
        "patchSetId": 34
      },
      "lineNbr": 44,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-02-08T17:28:16Z",
      "side": 1,
      "message": "You\u0027re using spaces instead of tabs a lot in this file.",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_4cf4ecc8",
        "filename": "twrpDigest/twrpDigest.cpp",
        "patchSetId": 34
      },
      "lineNbr": 44,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2017-02-08T17:48:50Z",
      "side": 1,
      "message": "Thanks for the catch and the review. I will fix on next commit.",
      "parentUuid": "78209991_4c698c8a",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_cc2fdc3b",
        "filename": "twrpDigest/twrpDigest.cpp",
        "patchSetId": 34
      },
      "lineNbr": 44,
      "author": {
        "id": 1001798
      },
      "writtenOn": "2017-02-08T18:54:21Z",
      "side": 1,
      "message": "1024 bytes is very small, performance may be better with 4k, 16k or even 64k buffer.",
      "parentUuid": "78209991_4cf4ecc8",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_ec2a982c",
        "filename": "twrpDigest/twrpDigest.cpp",
        "patchSetId": 34
      },
      "lineNbr": 46,
      "author": {
        "id": 1001798
      },
      "writtenOn": "2017-02-08T18:54:21Z",
      "side": 1,
      "message": "Combine initialization with the declaration.",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_6ce9e8e3",
        "filename": "twrpDigest/twrpDigest.cpp",
        "patchSetId": 34
      },
      "lineNbr": 54,
      "author": {
        "id": 1001798
      },
      "writtenOn": "2017-02-08T18:54:21Z",
      "side": 1,
      "message": "Missing error handling if read failed.",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_0c15d4e6",
        "filename": "twrpDigest/twrpDigest.hpp",
        "patchSetId": 34
      },
      "lineNbr": 26,
      "author": {
        "id": 1001798
      },
      "writtenOn": "2017-02-08T18:54:21Z",
      "side": 1,
      "message": "unclear how error are reported from this function. I guess false for failure, and then?",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_ecd5f81e",
        "filename": "twrpDigest/twrpDigest.hpp",
        "patchSetId": 34
      },
      "lineNbr": 27,
      "author": {
        "id": 1001798
      },
      "writtenOn": "2017-02-08T18:54:21Z",
      "side": 1,
      "message": "can update() fail? what does the return value mean?",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_2c18901f",
        "filename": "twrpDigest/twrpDigest.hpp",
        "patchSetId": 34
      },
      "lineNbr": 28,
      "author": {
        "id": 1001798
      },
      "writtenOn": "2017-02-08T18:54:21Z",
      "side": 1,
      "message": "using (void) is considered bad style in C++.",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_6c6c489d",
        "filename": "twrpDigest/twrpDigest.hpp",
        "patchSetId": 34
      },
      "lineNbr": 29,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-02-08T17:28:16Z",
      "side": 1,
      "message": "There\u0027s a tab after the ; that should probably be replaced with spaces.",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_2c01b0b5",
        "filename": "twrpDigest/twrpDigest.hpp",
        "patchSetId": 34
      },
      "lineNbr": 29,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2017-02-08T17:48:50Z",
      "side": 1,
      "message": "Thanks for the catch, will fix on next submit.",
      "parentUuid": "78209991_6c6c489d",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_ccda3c4e",
        "filename": "twrpDigest/twrpDigest.hpp",
        "patchSetId": 34
      },
      "lineNbr": 29,
      "author": {
        "id": 1001798
      },
      "writtenOn": "2017-02-08T18:54:21Z",
      "side": 1,
      "message": "It\u0027s also unclear what file is used here. If it simply compares the computed digest with the string, the whole method is redundant and can be replaced with \"\u003d\u003d\".",
      "parentUuid": "78209991_2c01b0b5",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_acdf003d",
        "filename": "twrpDigest/twrpDigest.hpp",
        "patchSetId": 34
      },
      "lineNbr": 32,
      "author": {
        "id": 1001798
      },
      "writtenOn": "2017-02-08T18:54:21Z",
      "side": 1,
      "message": "even if currently not used, this should probably be public so that the same instance can be reused to calculate multiple digests.",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_8ce4440e",
        "filename": "twrpDigest/twrpDigest.hpp",
        "patchSetId": 34
      },
      "lineNbr": 34,
      "author": {
        "id": 1001798
      },
      "writtenOn": "2017-02-08T18:54:21Z",
      "side": 1,
      "message": "comment doesn\u0027t match prototype, I guess it processes \"len\" bytes.",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_ccc11c5c",
        "filename": "twrpDigest/twrpMD5.cpp",
        "patchSetId": 34
      },
      "lineNbr": 53,
      "author": {
        "id": 1001798
      },
      "writtenOn": "2017-02-08T18:54:21Z",
      "side": 1,
      "message": "wait, so your derived class happily does something completely unrelated to the method name?",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_2cf3f0d1",
        "filename": "twrpDigest/twrpMD5.hpp",
        "patchSetId": 34
      },
      "lineNbr": 29,
      "author": {
        "id": 1001798
      },
      "writtenOn": "2017-02-08T18:54:21Z",
      "side": 1,
      "message": "why virtual inheritance?",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_0cf034c1",
        "filename": "twrpDigest/twrpMD5.hpp",
        "patchSetId": 34
      },
      "lineNbr": 32,
      "author": {
        "id": 1001798
      },
      "writtenOn": "2017-02-08T18:54:21Z",
      "side": 1,
      "message": "why does this ctor exist?",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78209991_ecbcd8d8",
        "filename": "twrpDigest/twrpMD5.hpp",
        "patchSetId": 34
      },
      "lineNbr": 43,
      "author": {
        "id": 1001798
      },
      "writtenOn": "2017-02-08T18:54:21Z",
      "side": 1,
      "message": "why do we need this member?",
      "revId": "28ff393c90117ec8d52362d58afa8f7f9d516d18",
      "serverId": "56841c99-7c94-43d4-bf0b-cb4707e66d55",
      "unresolved": false
    }
  ]
}